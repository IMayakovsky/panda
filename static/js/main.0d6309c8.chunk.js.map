{"version":3,"sources":["Components/Common/FriendshipButton/friendshipButton.module.css","Components/Common/Loader/loader.module.css","Components/Profile/Posts/WritePost/writePost.module.css","Components/Search/People/people.module.css","Components/Profile/Info/info.module.css","Components/Header/header.module.css","Components/Common/InputWithSelectContainer/InputWithSelectContainer.js","Components/Common/UsersLocation/UsersLocation.jsx","assets/img/NoNameAvatar.png","Components/News/news.module.css","assets/img/panda_loading.gif","Components/Common/InputWithSelectContainer/usersLocation.module.css","assets/img/pandaList.png","assets/img/pandaAvatarForCommunites.jfif","assets/img/pandaSearch.png","Components/Common/UsersLocation/usersLocation.module.css","Components/Common/FormsControls/formsControls.module.css","api/api.js","Components/Common/FormsControls/FormsControls.jsx","Components/Messages/Messages/messagesWindow.module.css","Components/Search/Navbar/navbarSearch.module.css","hoc/withAuthRedirect.js","redux/LoginReducer.js","Components/Profile/Modules/modules.module.css","redux/ProfileReducer.js","Components/LogIn/LogIn.jsx","hoc/withoutAuthRedirect.js","Components/LogIn/LogInContainer.js","Components/Common/CharButtons/CharButtons.jsx","Components/Profile/Posts/Post.jsx","Components/News/News.jsx","redux/NewsReducer.js","Components/News/NewsContainer.js","Components/Profile/Posts/WritePost/WritePost.jsx","Components/Profile/Posts/PostsContainer.js","redux/FriendsReducer.js","Components/Common/FriendshipButton/FriendshipButton.jsx","Components/Profile/Info/Info.jsx","redux/MessagesReducer.js","Components/Profile/Info/InfoMobile.jsx","Components/Profile/Info/InfoContainer.js","redux/selecters.js","Components/Profile/Modules/ProfileFriend.jsx","Components/Profile/Modules/ModulesContainer.js","Components/Profile/ProfileContainer.js","Components/Messages/Messages/OneMessage.jsx","Components/Messages/Messages/MessagesWindowContainer.js","Components/Messages/NavbarLeft/Person.jsx","Components/Messages/NavbarLeft/NavbarLeft.js","Components/Messages/NavbarRight/NavbarRight.js","Components/Messages/MessagesContainer.js","Components/Welcome/Welcome.jsx","Components/Welcome/WelcomeContainer.js","Components/Register/Register.jsx","Components/Register/RegisterContainer.js","Components/Header/Header.jsx","Components/Header/HeaderMobile.jsx","Components/Header/HeaderContainer.js","redux/AppReducer.js","redux/UsersReducer.js","Components/Search/People/OnePerson/OnePerson.jsx","Components/Search/People/PeopleContainer.js","redux/CommunitiesReducer.js","Components/Search/Communities/OneCommunity/OneCommunity.jsx","Components/Search/Communities/Communities.jsx","Components/Search/Communities/CommunitiesContainer.js","Components/Search/Navbar/NavbarList.jsx","Components/Search/Navbar/NavbarSearch.jsx","Components/Search/HeaderSearch/HeaderSearch.jsx","Components/Search/SearchContainer.js","Components/Friends/Friends.jsx","Components/Friends/FriendsContainer.js","App.js","hoc/withSuspense.js","serviceWorker.js","redux/redux.js","index.js","Components/Friends/friends.module.css","Components/LogIn/login.module.css","Components/Register/register.module.css","Components/Common/Loader/Loader.jsx","Components/Messages/NavbarLeft/navbarLeft.module.css","Components/Common/Functions/Functions.js","utils/validadors/validators.js","Components/Profile/Posts/post.module.css","Components/Welcome/welcome.module.css","Components/Search/People/OnePerson/onePerson.module.css","Components/Search/Communities/OneCommunity/oneCommunity.module.css","Components/Search/Navbar/navbarList.module.css","assets/img/mainPandaLogo.ico","Components/Search/Communities/communities.module.css","Components/Search/HeaderSearch/headerSearch.module.css","redux/LocationsReducer.js","Components/Messages/NavbarRight/navbarRight.module.css","Components/Common/CharButtons/charButtons.module.css","Components/Profile/profile.module.css","Components/Messages/messages.module.css","Components/Search/search.module.css","redux/RegisterReducer.js"],"names":["module","exports","InputWithSelectContainer","state","opacity","value","data","index","toggleOpacity","bool","setState","changeValueInput","setSelectList","target","textContent","props","changeValue","sanna","e","key","this","prevProps","prevState","componentDidMount","className","s","all","React","Component","connect","store","UsersLocation","valueInput","states","cities","names","arr","i","change","countries","filter","res","name","toLowerCase","includes","id","find","getLocation","csc","getStatesOfCountry","getCitiesOfState","getAllCountries","sel","selected","countrySelected","stateSelected","citySelected","map","DispatchToProps","locations","instance","axios","baseURL","usersAPI","getUsers","currentPage","limit","get","then","postUser","userData","post","avatar","userAvatar","secondName","status","dateOfBirth","date","gender","relationship","location","country","city","placeOfBirth","friends","followers","wroteUsers","activeProfilePosts","popularity","patchUser","userId","patch","patchUserLocation","patchPlace","patchStatus","patchActiveProfilePosts","NewsAPI","getPosts","CommunitiesAPI","getCommunities","selectedPage","ProfileAPI","getProfile","deleteProfile","delete","ProfilePostsAPI","pageId","postPost","text","likes","dislikes","aids","patchLikes","postId","count","patchDislikes","patchAids","deletePost","FriendsAPI","patchFriend","patchFollowers","patchFollowing","following","getFollow","MessagesAPI","getDialogsId","getWroteUsers","getMes","outId","inId","deleteMes","postMes","postDialog","deleteDialog","LoginAPI","getLogin","login","postLogin","email","password","getPassword","patchLogin","deleteLogin","CookieAPI","postCookie","getCookie","deleteCookie","put","createField","component","type","placeholder","validate","field","Input","input","meta","error","touched","span","InputRegister","InputSettings","InputDate","onFocus","onBlur","InputWithSelect","onKeyDown","tabIndex","InputWithSelectInput","autoComplete","onChange","InputWithSelectIcon","icon","onClick","InputWithSelectDiv","k","InputWithSelectOption","title","InputWithSelectAvatar","style","backgroundImage","InputWithSelectName","SelectInfo","selectInfo","arrOption","Textarea","divTextarea","textarea","mapStateToProps","withAuthRedirect","RedirectComponent","to","initialState","changeId","dispatch","stopSubmit","_error","getUserId","deleteUserId","LoginReducer","action","profile","header","posts","writePost","message","changeProfile","changeChar","getHeader","setHeader","sort","j","changeCount","cookieId","a","delName","some","el","push","ProfileReducer","stateCopy","maxLengthPassword","maxLength","LoginReduxForm","reduxForm","form","onSubmit","handleSubmit","divEmail","required","divError","divSum","sum","LogIn","main","divWelcome","formData","navlink","divImgLogo","imgLogo","src","logo","alt","withoutAuthRedirect","LogInContainer","compose","CharButtons","answer","like","color","colorlikes","dislike","colordislikes","aid","Post","cross","mainPost","avatarImg","ptext","buttons","Loader","News","NewsReducer","NewsContainer","getNews","copyPost","reverse","response","news","WritePostReduxForm","Field","butPost","WritePost","PostsContainer","boolean","toggleFind","removeFollower","setFriends","setFollowers","setFollowing","getFollows","arrFriends","length","friend","FriendsReducer","user","console","log","FriendshipButtoi","onClickFollow","postFollow","onClickUnfollow","deleteFollow","onClickFriend","deleteFriend","onClickAddFriend","changeFollow","Button","button","findFriend","toggleBoolean","arrId","friendsId","splice","indexOf","second","withRouter","Info","getAge","age","mainProfile","divStatus","pStatus","EditStatus","statusInput","blur","toggleEditStatus","autoFocus","statusSpan","setActivePhoto","info","ul","underMiddle","mainName","underRight","butMes","toggleWrite","butFriend","FriendshipButton","butOptions","photos","photosImg","activePhoto","messages","users","inputs","write","setDialogs","setInputs","setMessages","mes","postMesFunction","time","postOneDialog","MessagesReducer","butInfo","setActiveInfo","mActiveInfo","butCloseInfo","InfoContainer","link","setMActiveInfo","isMobile","InfoMobile","withSizes","width","Cookie","AllFriends","getCurrentPagination","ProfileFriend","one","ModulesContainer","amountFriends","amountFollowers","amountFollowing","getProfileFriends","profileFriends","getProfileFollowers","profileFollowers","getProfileFollowing","profileFollowing","match","params","lastText","item","Math","floor","random","ProfileContainer","pathname","modules","OneMessage","oneMes","oneMesGrid","mesWin","getTime","MessagesWindowContainer","postMessage","putMes","now","fromMe","newMes","mesInputChange","inputIndex","deleteMessage","maxScrollTop","messageList","scrollHeight","clientHeight","scrollTop","scrollToBottom","snapshot","mesWindow","ref","div","buttonDelete","mesOutput","mesInput","readOnly","under","midButton","PureComponent","t","mesId","lastElement","Person","person","setActive","avatarMes","NavbarLeft","memo","search","searchList","NavbarRight","right","MessagesContainer","active","changeSearchValue","getDialogs","lastMes","b","arrSearch","left","middle","changeInput","noActive","q","mesOut","Welcome","divImg","img","panda","divLog","divReg","WelcomeContainer","RegisterReduxForm","but","Register","RegisterContainer","Header","useState","settings","setSettings","toggleSettings","fixed","element","pandaAvatarImg","exit","imaginaryHeader","HeaderContainer","HeaderMobile","initialized","AppReducer","searchUsers","UsersReducer","OnePerson","PeopleContainer","pagination","arrUsers","communities","totalPages","isFetching","CommunitiesReducer","num","OneCommunity","avatarImgSrc","small","imgNoNameAvatar","followed","butFollowed","Communities","pageCount","pages","p","pageSelected","page","onClickPage","community","oneCommunity","CommunitiesContainer","setIsFetching","changePage","setCommunities","setCountPages","addFriend","removeFriend","NavbarList","top","components","elemNavbars","changeElement","elementSelected","backgroundColor","distantly","href","navLink","menu","imgPandaSearch","toggleSearch","NavbarSearch","divInput","min","max","headers","paragraphs","changeSearch","pSort","sortPopulation","trash","componentSelected","divImgSearch","imgSearch","Search","searchGo","trashLocation","HeaderSearch","body","navbar","setSortPopulation","Friends","FriendsContainer","mainFriend","library","add","faSortDown","faSearch","faTimes","faHeart","faHome","faHourglass","faBirthdayCake","faFeatherAlt","faAlignJustify","faTrashAlt","faVenusMars","faChevronDown","faUserFriends","faEnvelope","faUsers","faNewspaper","faPlayCircle","faUserCircle","faThumbsUp","faThumbsDown","faPrayingHands","SettingsContainer","lazy","App","initializeApp","path","render","SearchContainer","Suspense","fallback","exact","app","Boolean","window","hostname","reducers","combineReducers","register","RegisterReducer","LocationsReducer","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","createStore","applyMiddleware","thunkMiddleware","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","divLoading","imgLoading","panda_loading","today","Date","setTime","getDate","getMonth","getFullYear","myDate","getHours","getMinutes","parse","changeSelected","list","CHANGE_VR","valueRelationship","valueGender","changeRelationship","changeGender","setCommonInfo","setLocation","old","reset"],"mappings":"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","file":"static/js/main.0d6309c8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"friendshipButton_button__2Eytg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"divLoading\":\"loader_divLoading__BfhA8\",\"imgLoading\":\"loader_imgLoading__3TDcZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"writePost\":\"writePost_writePost__3sWU7\",\"butPost\":\"writePost_butPost__3OCRg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"person\":\"people_person__3dkXM\",\"onePerson\":\"people_onePerson__2MSwh\",\"butFriend\":\"people_butFriend__3bp2G\",\"navlink\":\"people_navlink__2eTIm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainProfile\":\"info_mainProfile__2-4VC\",\"status\":\"info_status__3l1lz\",\"divStatus\":\"info_divStatus__1GnhH\",\"pStatus\":\"info_pStatus__3mOvE\",\"statusSpan\":\"info_statusSpan__KHhEe\",\"statusInput\":\"info_statusInput__1wxx5\",\"avatar\":\"info_avatar__fX2sW\",\"avatarImg\":\"info_avatarImg__2Bsb_\",\"mainName\":\"info_mainName__2Ha1m\",\"info\":\"info_info__pHkt9\",\"ul\":\"info_ul__J07c9\",\"underMiddle\":\"info_underMiddle__LPKWu\",\"underRight\":\"info_underRight__3GaDq\",\"butMes\":\"info_butMes__C89kl\",\"butOptions\":\"info_butOptions__2v1uR\",\"butInfo\":\"info_butInfo__2BcTI\",\"butFriend\":\"info_butFriend__2qeg8\",\"photos\":\"info_photos__2arvo\",\"photosImg\":\"info_photosImg__3nv44\",\"activePhoto\":\"info_activePhoto__30NBh\",\"butCloseInfo\":\"info_butCloseInfo__VNZwf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imaginaryHeader\":\"header_imaginaryHeader__1OlBF\",\"fixed\":\"header_fixed__oHGm5\",\"main\":\"header_main__1nfE1\",\"pandaAvatarImg\":\"header_pandaAvatarImg__3bETH\",\"element\":\"header_element__3QRhp\",\"icon\":\"header_icon__Rbw9N\",\"avatar\":\"header_avatar__1MWd_\",\"button\":\"header_button__lvVkL\",\"settings\":\"header_settings__29mlE\",\"navlink\":\"header_navlink__mL4F4\"};","import React from 'react'\r\nimport s from './usersLocation.module.css'\r\nimport {connect} from \"react-redux\";\r\nimport {InputWithSelect} from \"../FormsControls/FormsControls\";\r\n\r\n//\r\n\r\nclass InputWithSelectContainer extends React.Component {\r\n\r\n    state = {\r\n        opacity: false,\r\n        value: '',\r\n        data: '',\r\n        index: ''\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.setState({data: this.props.data, value: this.props.value});\r\n    };\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevProps !== this.props) {\r\n            this.componentDidMount();\r\n        }\r\n    }\r\n    toggleOpacity = (bool) => {\r\n        if (bool === null) {\r\n            this.setState({opacity: !this.state.opacity});\r\n        } else this.setState({opacity: bool});\r\n\r\n    };\r\n    changeValueInput = (value) => {\r\n\r\n    };\r\n    setSelectList = (target) => {\r\n        debugger;\r\n\r\n        this.setState({value: target.textContent});\r\n        this.toggleOpacity(false);\r\n        this.props.changeValue(target.textContent);\r\n    };\r\n\r\n    sanna = (e) => {\r\n        debugger;\r\n        if (e.key === 'Escape')\r\n            this.toggleOpacity(false);\r\n    };\r\n\r\n    render() {\r\n\r\n        return <div className={s.all}>\r\n           <InputWithSelect data={this.state.data} value={this.state.value}\r\n                            opacity={this.state.opacity} changeValueInput={this.changeValueInput}\r\n                            toggleOpacity={this.toggleOpacity} setSelectList={this.setSelectList}\r\n                            sanna={this.sanna}/>\r\n\r\n\r\n        </div>\r\n    }\r\n\r\n}\r\n\r\nconst mapStoreToProps = (store) => {\r\n    return {\r\n    }\r\n};\r\n\r\nlet DispatchToProps = {\r\n\r\n};\r\n\r\nexport default connect(mapStoreToProps, DispatchToProps)(InputWithSelectContainer);","import React from 'react'\r\nimport s from './usersLocation.module.css'\r\nimport csc from \"country-state-city\";\r\nimport {getLocation} from \"../../../redux/LocationsReducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {InputWithSelect} from \"../FormsControls/FormsControls\";\r\n\r\n//\r\n\r\nclass UsersLocation extends React.Component {\r\n\r\n    state = {\r\n        opacity: [false, false, false],\r\n        valueInput: [\"\", \"\", \"\"],\r\n        data: [null, this.props.states, this.props.cities],\r\n        names: ['Country', 'State', 'City'],\r\n        index: this.props.index\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.props.getLocation(csc.getAllCountries(), \"Countries\");\r\n    };\r\n    componentDidUpdate(prevProps, prevState) {\r\n        let sel =  this.props.selected;\r\n        if (prevProps.selected.countrySelected !== sel.countrySelected) {\r\n            this.setState({valueInput: [ sel.countrySelected, \"\", \"\"]});\r\n        }\r\n        if (prevProps.selected.stateSelected !== sel.stateSelected) {\r\n            this.setState({valueInput: [ sel.countrySelected, sel.stateSelected, \"\"]});\r\n        }\r\n        if (prevProps.selected.citySelected !== sel.citySelected) {\r\n            this.setState({valueInput: [ sel.countrySelected, sel.stateSelected, sel.citySelected]});\r\n        }\r\n        if (prevProps.countries !== this.props.countries || prevProps.states !== this.props.states ||\r\n            prevProps.cities !== this.props.cities) {\r\n            this.setState({data: [this.props.countries, this.props.states, this.props.cities]});\r\n        }\r\n\r\n    }\r\n    toggleOpacity = (bool, index) => {\r\n        let arr = [false, false, false];\r\n        if (bool === null) {\r\n            arr[index] = !this.state.opacity[index];\r\n        } else arr[index] = bool;\r\n        this.setState({opacity: arr});\r\n    };\r\n    changeValueInput = (value, i, change) => {\r\n        let arr = this.state.valueInput; arr[i] = value;\r\n        (arr[i + 1]) && (arr[i + 1] = \"\"); (arr[i + 2]) && (arr[+i + 2] = \"\");\r\n        if (!change) {\r\n            this.setState({data: [this.props.countries, this.props.states, this.props.cities]});\r\n        }\r\n        if (change) {\r\n            switch (i) {\r\n                case 0:\r\n                    arr = this.props.countries.filter(res => res.name.toLowerCase().includes(value.toLowerCase()));\r\n                    return this.setState({data: [arr, this.props.states, this.props.cities]});\r\n                case 1:\r\n                    arr = this.props.states.filter(res => res.name.toLowerCase().includes(value.toLowerCase()));\r\n                    return this.setState({data: [this.props.countries, arr, this.props.cities]});\r\n                case 2:\r\n                    arr = this.props.cities.filter(res => res.name.toLowerCase().includes(value.toLowerCase()));\r\n                    return this.setState({data: [this.props.countries, this.props.states, arr]});\r\n                default:\r\n            }\r\n        }\r\n    };\r\n    setSelectList = (e) => {\r\n        this.changeValueInput(e.textContent, +e.id, false);\r\n        if (e.id  === '0') {\r\n            let arr = this.props.countries.find(res => res.name === e.textContent);\r\n            this.props.getLocation(csc.getStatesOfCountry(arr.id), \"States\", arr.name);\r\n        }\r\n        else if (e.id  === '1') {\r\n            let arr = this.props.states.find(res => res.name === e.textContent);\r\n            this.props.getLocation(csc.getCitiesOfState(arr.id), \"Cities\", arr.name);\r\n        }\r\n        else if (e.id  === '2') {\r\n            this.props.getLocation(null, \"citySelected\", e.textContent);\r\n        }\r\n        this.toggleOpacity(false, +e.id);\r\n    };\r\n\r\n    render() {\r\n        return <div className={s.all}>\r\n                {this.state.names.map((res, i) =>\r\n                    <InputWithSelect key={i} index={i} name={res} data={this.state.data[i]}\r\n                                     value={this.state.valueInput[i]} opacity={this.state.opacity[i]}\r\n                                     changeValueInput={this.changeValueInput}\r\n                                     toggleOpacity={this.toggleOpacity} setSelectList={this.setSelectList}/>\r\n                )}\r\n\r\n        </div>\r\n    }\r\n\r\n}\r\n\r\nconst mapStoreToProps = (store) => {\r\n    return {\r\n        countries: store.locations.countries,\r\n        states: store.locations.states,\r\n        cities: store.locations.cities,\r\n        selected: store.locations.selected\r\n    }\r\n};\r\n\r\nlet DispatchToProps = {\r\n    getLocation\r\n};\r\n\r\nexport default connect(mapStoreToProps, DispatchToProps)(UsersLocation);","module.exports = __webpack_public_path__ + \"static/media/NoNameAvatar.2b8988d5.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"news_main__B7hxM\"};","module.exports = __webpack_public_path__ + \"static/media/panda_loading.4987b47d.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"all\":\"usersLocation_all__3jaDy\",\"main\":\"usersLocation_main__1-3iL\",\"span\":\"usersLocation_span__37mmA\",\"input\":\"usersLocation_input__3dmc_\",\"icon\":\"usersLocation_icon__3gcCP\",\"mainDivInput\":\"usersLocation_mainDivInput__3_vtU\",\"option\":\"usersLocation_option__1y5rQ\"};","module.exports = __webpack_public_path__ + \"static/media/pandaList.86f81b05.png\";","module.exports = __webpack_public_path__ + \"static/media/pandaAvatarForCommunites.2b52ebc2.jfif\";","module.exports = __webpack_public_path__ + \"static/media/pandaSearch.925f8148.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"all\":\"usersLocation_all__1ULtj\",\"main\":\"usersLocation_main__3Mwfd\",\"span\":\"usersLocation_span__2iAUn\",\"input\":\"usersLocation_input__3YSDj\",\"icon\":\"usersLocation_icon__16ixZ\",\"mainDivInput\":\"usersLocation_mainDivInput__PfFYy\",\"option\":\"usersLocation_option__2i34N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"field\":\"formsControls_field__2hqUK\",\"Input\":\"formsControls_Input__yQYup\",\"input\":\"formsControls_input__KPn3D\",\"error\":\"formsControls_error__3u0q-\",\"span\":\"formsControls_span__3vLqS\",\"InputRegister\":\"formsControls_InputRegister__2HRJ-\",\"InputWithSelect\":\"formsControls_InputWithSelect__aBBva\",\"InputWithSelectInput\":\"formsControls_InputWithSelectInput__1KK2j\",\"InputWithSelectIcon\":\"formsControls_InputWithSelectIcon__NiE0E\",\"InputWithSelectDiv\":\"formsControls_InputWithSelectDiv__3NUw9\",\"InputWithSelectOption\":\"formsControls_InputWithSelectOption__3_9Iz\",\"InputWithSelectAvatar\":\"formsControls_InputWithSelectAvatar__1z2_j\",\"InputWithSelectName\":\"formsControls_InputWithSelectName__1GeUD\",\"selectInfo\":\"formsControls_selectInfo__1FkXu\",\"divTextarea\":\"formsControls_divTextarea__3yxyO\",\"textarea\":\"formsControls_textarea__3azfk\"};","import * as axios from \"axios\";\r\nimport userAvatar from \"../assets/img/NoNameAvatar.png\"\r\n\r\nconst instance = axios.create({\r\n   baseURL: 'http://localhost:3001/'\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage, limit) {\r\n        return instance.get(`users?_page=${currentPage}&_limit=${limit}`).then(res => res.data);\r\n    },\r\n    postUser(userData) {\r\n        return instance.post(`users`, {\r\n            avatar: userData.avatar ? userData.avatar.name : userAvatar,\r\n            name: userData.name,\r\n            secondName: userData.secondName,\r\n            status: \"\",\r\n            dateOfBirth: userData.date ? userData.date : \"\",\r\n            gender: userData.gender ? userData.gender : \"\",\r\n            relationship: \"\",\r\n            location: {\r\n                country: \"Any\",\r\n                state: \"Any\",\r\n                city: \"Any\"\r\n            },\r\n            placeOfBirth: \"\",\r\n            friends: [],\r\n            followers: [],\r\n            wroteUsers: [],\r\n            activeProfilePosts: [],\r\n            popularity: 10\r\n        });\r\n    },\r\n    patchUser(userId, data) {\r\n        return instance.patch(`users/${userId}`, {\"name\": `${data.name}`, \"secondName\": `${data.secondName}`,\r\n            \"dateOfBirth\": `${data.date}`, \"gender\": `${data.gender}`, \"relationship\": `${data.relationship}`});\r\n    },\r\n    patchUserLocation(userId, data) {\r\n        return instance.patch(`users/${userId}`, {location: {\r\n                country: data.country !== \"Any\" ? data.country : \"\",\r\n                state: data.state !== \"Any\" ? data.state : \"\",\r\n                city: data.city !== \"Any\" ? data.city : \"\"\r\n            }});\r\n    },\r\n    patchPlace(userId, data) {\r\n        return instance.patch(`users/${userId}`, {placeOfBirth: {\r\n                country: data.country !== \"Any\" ? data.country : \"\",\r\n                state: data.state !== \"Any\" ? data.state : \"\",\r\n                city: data.city !== \"Any\" ? data.city : \"\"\r\n            }});\r\n    },\r\n    patchStatus(userId, status) {\r\n        return instance.patch(`users/${userId}`, {\"status\" : `${status}`});\r\n    },\r\n    patchActiveProfilePosts(userId, data) {\r\n        return instance.patch(`users/${userId}`, {activeProfilePosts: data});\r\n    }\r\n};\r\n\r\nexport const NewsAPI = {\r\n  getPosts() {\r\n      return instance.get('profileposts').then(res => res.data)\r\n  }\r\n};\r\n\r\nexport const CommunitiesAPI = {\r\n    getCommunities(selectedPage) {\r\n        return instance.get(`communities?_page=${selectedPage}&_limit=2`).then(res => res.data);\r\n    }\r\n};\r\n\r\nexport const ProfileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`users/${userId}`).then(res => res.data);\r\n    },\r\n    deleteProfile(id) {\r\n        return instance.delete(`users/${id}`);\r\n    }\r\n};\r\n\r\nexport const ProfilePostsAPI = {\r\n    getPosts(pageId) {\r\n        return instance.get(`ProfilePosts?pageId=${pageId}`).then(res => res.data);\r\n    },\r\n    postPost(pageId, text, userId, avatar, name) {\r\n        return instance.post(`ProfilePosts?pageId=${pageId}`, {\r\n            pageId: pageId,\r\n            userId: userId,\r\n            name: name,\r\n            avatar: avatar,\r\n            text: text,\r\n            likes: 0,\r\n            dislikes: 0,\r\n            aids: 0\r\n        });\r\n    },\r\n    patchLikes(postId, count) {\r\n        return instance.patch(`ProfilePosts/${postId}`, {likes: count});\r\n    },\r\n    patchDislikes(postId, count) {\r\n        return instance.patch(`ProfilePosts/${postId}`, {dislikes: count});\r\n    },\r\n    patchAids(postId, count) {\r\n        return instance.patch(`ProfilePosts/${postId}`, {aids: count});\r\n    },\r\n    deletePost(postId) {\r\n        return instance.delete(`ProfilePosts/${postId}`);\r\n    },\r\n};\r\n\r\nexport const FriendsAPI = {\r\n    patchFriend(userId, friends) {\r\n        return instance.patch(`users/${userId}`, {friends: friends});\r\n    },\r\n    patchFollowers(userId, data) {\r\n        return instance.patch(`users/${userId}`, {followers: data});\r\n    },\r\n    patchFollowing(userId, data) {\r\n        return instance.patch(`users/${userId}`, {following: data});\r\n    },\r\n    getFollow(userId) {\r\n        return instance.get(`users/${userId}`).then(res => res.data);\r\n    }\r\n};\r\n\r\nexport const MessagesAPI = {\r\n    getDialogsId(userId) {\r\n        return instance.patch(`users/${userId}`).then(res => res.data.wroteUsers);\r\n    },\r\n    getWroteUsers(userId) {\r\n        return instance.get(`users/${userId}`).then(res => res.data);\r\n    },\r\n    getMes(outId, inId) {\r\n        return instance.get(`messages/?outId=${outId}&inId=${inId}`).then(res => res.data);\r\n    },\r\n    deleteMes(id) {\r\n        return instance.delete(`messages/${id}`);\r\n    },\r\n    postMes(data) {\r\n        return instance.post(`messages`, data);\r\n    },\r\n    postDialog(id, data) {\r\n        return instance.patch(`users/${id}`, {\"wroteUsers\": data});\r\n    },\r\n    deleteDialog(id) {\r\n        return instance.delete(`messages/${id}`);\r\n    },\r\n};\r\n\r\n\r\nexport const LoginAPI = {\r\n    getLogin(login) {\r\n        return instance.get(`login?login=${login}`).then(res => res.data[0]);\r\n    },\r\n    postLogin(email, password) {\r\n        return instance.post(`login`, {login: email, password: password})\r\n    },\r\n    getPassword(userId) {\r\n        return instance.get(`login/${userId}`).then(res => res.data.password);\r\n    },\r\n    patchLogin(userId, data) {\r\n        return instance.patch(`login/${userId}`, {\"login\": `${data.email}`, \"password\": `${data.password}`});\r\n    },\r\n    deleteLogin(id) {\r\n        return instance.delete(`login/${id}`);\r\n    }\r\n};\r\n\r\nexport const CookieAPI = {\r\n    postCookie(id) {\r\n        return instance.post('cookie', {userId: id});;\r\n    },\r\n    getCookie() {\r\n        return instance.get(`cookie`).then(res => res.data.userId);\r\n    },\r\n    deleteCookie() {\r\n        return instance.put(`cookie`, {});\r\n    }\r\n};\r\n\r\n\r\n\r\n","import React from 'react'\r\nimport s from './formsControls.module.css'\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport TextareaAutosize from 'react-autosize-textarea';\r\nimport {Field} from \"redux-form\";\r\n\r\nexport const createField = (component, type, name, placeholder, validate = [], props = {}) => {\r\n    return <div className={s.field}>\r\n        <Field component={component} type={type} name={name}\r\n               validate={validate} placeholder={placeholder} {...props}/>\r\n    </div>\r\n};\r\n\r\nexport const Input = ({ input, meta, ...props}) => {\r\n    const error = meta.touched && meta.error;\r\n    return <div>\r\n      <input {...input} {...props}\r\n             className={s.Input + \" \" + s.input + \" \" + (error ? s.error : \"\")} />\r\n      {error && <div className={s.Input+ \" \" + s.span}><span>{meta.error}</span></div>}\r\n    </div>\r\n};\r\n\r\nexport const InputRegister = ({ input, meta, ...props}) => {\r\n    const error = meta.touched && meta.error;\r\n    return <div>\r\n        <input {...input} {...props}\r\n               className={s.InputRegister + \" \" + s.input + \" \" + (error ? s.error : \"\")} />\r\n        {error && <div className={s.Input+ \" \" + s.span}><span>{meta.error}</span></div>}\r\n    </div>\r\n};\r\n\r\nexport const InputSettings = ({ input, meta, ...props}) => {\r\n    const error = meta.touched && meta.error;\r\n    return <div>\r\n        <input {...input} {...props}\r\n               className={s.InputRegister + \" \" + s.input + \" \" + (error ? s.error : \"\")} />\r\n    </div>\r\n};\r\n\r\nexport const InputDate = ({ input, meta, ...props}) => {\r\n    const error = meta.touched && meta.error;\r\n    return <div>\r\n        <input {...input} {...props} type='text'\r\n               onFocus={(e) => {e.target.type='date'}} onBlur={(e) => {e.target.type='text'}}\r\n               className={s.InputRegister + \" \" + s.input + \" \" + (error ? s.error : \"\")}/>\r\n    </div>\r\n};\r\n\r\nexport const InputWithSelect = ({ input, meta, ...props}) => {\r\n    return <div className={s.InputWithSelect} onKeyDown={(e) => props.sanna(e)} tabIndex={'0'}>\r\n        <input className={s.InputWithSelectInput}\r\n               placeholder={props.name} value={props.value} autoComplete=\"off\"\r\n               onChange={(e) => {props.changeValueInput(e.target.value, props.index, true)}}\r\n               onFocus={() => {props.toggleOpacity(true, props.index)}}/>\r\n         <FontAwesomeIcon className={s.InputWithSelectIcon} icon={['fas', 'sort-down']}\r\n                          onClick={() => {props.toggleOpacity(null, props.index)}}/>\r\n        {props.opacity && <div className={s.InputWithSelectDiv}>\r\n            {props.data && props.data.map((res, k) =>\r\n                <div key={k} className={s.InputWithSelectOption} title={props.name} id={props.index}\r\n                     onClick={(e) => props.setSelectList(e.target)}>\r\n                    {res.avatar && <div className={s.InputWithSelectAvatar}\r\n                                        style={{backgroundImage: `url(${res.avatar})`}}/>}\r\n                    <div className={s.InputWithSelectName}>{res.name}</div></div>)}\r\n        </div>}\r\n    </div>\r\n};\r\n\r\nexport const SelectInfo = (props) => {\r\n    return (\r\n        <select className={s.selectInfo} onChange={(e) => props.onChange(e.target.value, props.name)}>\r\n            {props.arrOption.map((res, k) => <option key={k}>{res}</option>)}\r\n        </select>\r\n    )\r\n};\r\n\r\nexport const SelectSettings = ({ input, meta, ...props}) => {\r\n    return (\r\n        <select {...input} {...props}  className={s.selectInfo}>\r\n            {props.arr.map((res, k) => <option key={k}>{res}</option>)}\r\n        </select>\r\n    )\r\n};\r\n\r\n\r\nexport const Textarea = ({ input, meta, ...props}) => {\r\n    return <div className={s.divTextarea} >\r\n            <TextareaAutosize {...input} {...props} className={s.textarea}/>\r\n    </div>\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"messagesWindow_main__WtIOk\",\"mesWindow\":\"messagesWindow_mesWindow__3IWwl\",\"mes\":\"messagesWindow_mes__2N98h\",\"mesOutput\":\"messagesWindow_mesOutput__Sfa7l\",\"mesInput\":\"messagesWindow_mesInput__1APBe\",\"buttonDelete\":\"messagesWindow_buttonDelete__12FUF\",\"under\":\"messagesWindow_under__3R07t\",\"input\":\"messagesWindow_input__1vv7N\",\"midButton\":\"messagesWindow_midButton__-_4hx\",\"oneMes\":\"messagesWindow_oneMes__3IxmY\",\"oneMesGrid\":\"messagesWindow_oneMesGrid__1iPo7\",\"mesWin\":\"messagesWindow_mesWin__27B9h\",\"name\":\"messagesWindow_name__2GQq1\",\"time\":\"messagesWindow_time__IerU-\",\"text\":\"messagesWindow_text__1XNhf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"navbarSearch_main__2Lr6w\",\"top\":\"navbarSearch_top__1gvfT\",\"location\":\"navbarSearch_location__10iFl\",\"headers\":\"navbarSearch_headers__AjBet\",\"paragraphs\":\"navbarSearch_paragraphs__YYsvC\",\"age\":\"navbarSearch_age__EViwJ\",\"divInput\":\"navbarSearch_divInput__1TwQg\",\"input\":\"navbarSearch_input__3uzgB\",\"pSort\":\"navbarSearch_pSort__30Ecg\",\"menu\":\"navbarSearch_menu__3_NRe\",\"trash\":\"navbarSearch_trash__cnynv\",\"icon\":\"navbarSearch_icon__s-x0O\"};","import React from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport Loader from \"../Components/Common/Loader/Loader\";\r\n\r\nlet mapStateToProps = (store) => ({\r\n    userId: store.login.userId,\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n  class RedirectComponent extends React.Component {\r\n      render() {\r\n          if (!this.props.userId) {\r\n              return <Redirect to='/welcome'/>;\r\n          }\r\n          return <Component {...this.props}/>\r\n      }\r\n  }\r\n\r\n    return connect(mapStateToProps)(RedirectComponent);\r\n};","import {LoginAPI, CookieAPI} from \"../api/api\";\r\nimport {stopSubmit} from 'redux-form'\r\n\r\nconst SET_LOGIN = 'SET_LOGIN';\r\nconst CHANGE_ID = 'SET_LOGIN';\r\n\r\n\r\nlet initialState = {\r\n    userId: null,\r\n};\r\n\r\nconst LoginReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case CHANGE_ID:\r\n            return {...state, userId: action.userId};\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const setLogin = (login) => ({type: SET_LOGIN, login: login});\r\nexport const changeId = (id) => ({type: CHANGE_ID, userId: id});\r\n\r\nexport const getLogin = (email, password) => (dispatch) => {\r\n    LoginAPI.getLogin(email).then(data => {\r\n        if (!data) {\r\n            dispatch(stopSubmit(\r\n                \"login\", {_error: \"Email or password is not correct\"}));\r\n        }\r\n        else if (data.password === password) {\r\n            CookieAPI.postCookie(data.id).then(res => {\r\n                res.status === 201 && dispatch(changeId(data.id));\r\n            });\r\n        }\r\n        else {\r\n            dispatch(stopSubmit(\r\n                \"login\", {_error: \"Email or password is not correct\"}));\r\n        }\r\n    });\r\n};\r\n\r\nexport const getUserId = () => (dispatch) => {\r\n    return CookieAPI.getCookie().then(id => {\r\n        id && dispatch(changeId(id));\r\n    });\r\n};\r\n\r\nexport const deleteUserId = () => {\r\n    return (dispatch) => {\r\n        CookieAPI.deleteCookie().then(data => {\r\n            dispatch(changeId(null));\r\n        });\r\n    }\r\n};\r\n\r\nexport default LoginReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"modules_main__3LNpV\",\"text\":\"modules_text__3iE6i\",\"friends\":\"modules_friends__1zXD6\",\"avatarImg\":\"modules_avatarImg__38AT4\",\"one\":\"modules_one__gqMTg\",\"lastText\":\"modules_lastText__3z74J\"};","import {CookieAPI, LoginAPI, ProfileAPI, ProfilePostsAPI, usersAPI} from \"../api/api\";\r\n\r\nconst SET_PROFILE = 'SET_PROFILE';\r\nconst SET_HEADER = 'SET_HEADER';\r\nconst SET_POSTS = 'SET_POSTS';\r\nconst PATCH_STATUS = 'PATCH_STATUS';\r\nconst ADD_POST = 'ADD_POST';\r\nconst CHANGE_CHAR = 'CHANGE_CHAR';\r\nconst CHANGE_PROFILE_FROM_SETTINGS = 'CHANGE_PROFILE_FROM_SETTINGS';\r\n\r\n\r\nlet initialState = {\r\n    profile: null,\r\n    header: null,\r\n    posts: [],\r\n    writePost: {\r\n        textarea: '',\r\n        message: ''\r\n    }\r\n};\r\n\r\n\r\nconst ProfileReducer = (state = initialState, action) => {\r\n    let stateCopy = {...state};\r\n    switch (action.type) {\r\n        case SET_PROFILE:\r\n            stateCopy.profile = {...action.profile};\r\n            stateCopy.profile.friends = action.profile.friends;\r\n            return stateCopy;\r\n        case SET_HEADER:\r\n            return {...state, header: action.data};\r\n        case PATCH_STATUS:\r\n            return {...state, profile: {...state.profile, status: action.status}};\r\n        case SET_POSTS:\r\n            return {...state, posts: [...action.posts]};\r\n        case ADD_POST:\r\n            stateCopy.posts = {...state.posts};\r\n            return stateCopy;\r\n        case CHANGE_CHAR:\r\n            stateCopy.posts = [...state.posts];\r\n            stateCopy.posts.some((post, i) => post.id === action.id && (action.id = i));\r\n            switch (action.name) {\r\n                case 'likes':\r\n                    action.count === -1 && (action.count = stateCopy.posts[action.id].likes - 1);\r\n                    stateCopy.posts[action.id].likes = action.count;\r\n                    return stateCopy;\r\n                case 'dislikes':\r\n                    action.count === -1 && (action.count = stateCopy.posts[action.id].dislikes - 1);\r\n                    stateCopy.posts[action.id].dislikes = action.count;\r\n                    return stateCopy;\r\n                case 'aids':\r\n                    action.count === -1 && (action.count = stateCopy.posts[action.id].aids - 1);\r\n                    stateCopy.posts[action.id].aids = action.count;\r\n                    return stateCopy;\r\n                default:\r\n                    return stateCopy;\r\n            }\r\n        case CHANGE_PROFILE_FROM_SETTINGS:\r\n            stateCopy.header = {...state.header};\r\n            stateCopy.header.name = action.data.name;\r\n            stateCopy.header.secondName = action.data.secondName;\r\n            stateCopy.header.date = action.data.date;\r\n            stateCopy.header.gender = action.data.gender;\r\n            stateCopy.header.relationship = action.data.relationship;\r\n            return stateCopy;\r\n        default:\r\n            return state;\r\n    }\r\n\r\n};\r\n\r\nexport const addPost = (post) => ({type: ADD_POST, newPost: post});\r\nexport const changeProfile = (data) => ({type: CHANGE_PROFILE_FROM_SETTINGS, data: data});\r\nexport const setProfile = (profile) => ({type: SET_PROFILE, profile: profile});\r\nexport const setHeader = (data) => ({type: SET_HEADER, data: data});\r\nexport const changeChar = (id, count, name) => ({type: CHANGE_CHAR, id: id, count: count, name: name});\r\n\r\nexport const getProfile = (userId) => (dispatch) => {\r\n    ProfileAPI.getProfile(userId).then(data => {\r\n        dispatch(setProfile(data));\r\n    });\r\n};\r\n\r\nexport const getHeader = (userId) => (dispatch) => {\r\n    ProfileAPI.getProfile(userId).then(data => {\r\n        dispatch(setHeader(data));\r\n    });\r\n};\r\n\r\nexport const getPosts = (pageId) => (dispatch) => {\r\n    ProfilePostsAPI.getPosts(pageId).then(posts => {\r\n        if (posts) {\r\n            posts.sort((i, j) => j.id - i.id);\r\n            dispatch({type: SET_POSTS, posts: posts});\r\n        }\r\n    });\r\n};\r\n\r\nexport const patchStatus = (userId, status) => {\r\n    return (dispatch) => {\r\n        usersAPI.patchStatus(userId, status).then(res => {\r\n            res.status === 200 && dispatch({type: PATCH_STATUS, userId: userId, status: status});\r\n        });\r\n    }\r\n};\r\n\r\nexport const postPost = (pageId, userId, text) => (dispatch) => {\r\n    ProfileAPI.getProfile(userId).then(data => {\r\n        data && ProfilePostsAPI.postPost(pageId, text, data.id, data.avatar, data.name).then(res => {\r\n            res.status === 201 && dispatch(getPosts(pageId));\r\n        });\r\n    });\r\n};\r\n\r\nexport const deletePost = (postId, pageId) => (dispatch) => {\r\n    ProfilePostsAPI.deletePost(postId).then(res => {\r\n        res.status === 200 && dispatch(getPosts(pageId));\r\n    });\r\n};\r\n\r\nexport const changeCount = (id, count, name, cookieId) => async (dispatch) => {\r\n    let profile = await ProfileAPI.getProfile(cookieId);\r\n    let arr = profile.activeProfilePosts;\r\n    let delName = false;\r\n    if (arr.some(el => el.id === id && (delName = el.name))) {\r\n        dispatch(changeChar(id, -1, delName));\r\n        arr = arr.filter(el => el.id !== id);\r\n    }\r\n    if (delName !== name)\r\n        arr.push({id: id, name: name});\r\n    usersAPI.patchActiveProfilePosts(cookieId, arr);\r\n    let res;\r\n    delName === name ? count -= 1 : count += 1;\r\n    switch (name) {\r\n        case 'likes':\r\n            res = await ProfilePostsAPI.patchLikes(id, count);\r\n            break;\r\n        case 'dislikes':\r\n            res = await ProfilePostsAPI.patchDislikes(id, count);\r\n            break;\r\n        case 'aids':\r\n            res = await ProfilePostsAPI.patchAids(id, count);\r\n            break;\r\n        default:\r\n            return 0\r\n    }\r\n    res.status === 200 && dispatch(changeChar(id, count, name));\r\n};\r\n\r\nexport const deleteProfile = (id) => (dispatch) => {\r\n    ProfileAPI.deleteProfile(id);\r\n    LoginAPI.deleteLogin(id);\r\n    CookieAPI.deleteCookie();\r\n};\r\n\r\nexport default ProfileReducer;","import React from 'react'\r\nimport s from './login.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLength, required} from \"../../utils/validadors/validators\";\r\nimport {createField, Input} from \"../Common/FormsControls/FormsControls\";\r\nimport logo from '../../assets/img/mainPandaLogo.ico'\r\n\r\nconst maxLengthPassword =  maxLength(20);\r\n\r\nlet LoginForm = (props) => {\r\n    return (\r\n        <form className={s.form} onSubmit={props.handleSubmit}>\r\n\r\n            <div className={s.divEmail}>\r\n                {createField(Input, 'email', 'email', 'email', [required])}\r\n            </div>\r\n            <div className={s.divEmail}>\r\n                {createField(Input, 'password', 'password', 'password',\r\n                    [required, maxLengthPassword])}\r\n            </div>\r\n            {props.error && <div className={s.divError}>{props.error}</div>}\r\n            <div className={s.divSum}>\r\n                <button className={s.sum}>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm);\r\n\r\nlet LogIn = (props) => {\r\n\r\n    const onSubmit = (formData) => {\r\n      props.getLogin(formData.email, formData.password);\r\n    };\r\n\r\n    return (\r\n        <div className={s.main}>\r\n            <div className={s.divWelcome}><h>Welcome to the Panda!</h></div>\r\n            <LoginReduxForm className={s.form} {...props} onSubmit={onSubmit}/>\r\n            <NavLink to='/Welcome' className={s.navlink}>Back</NavLink>\r\n            <div className={s.divImgLogo}><img className={s.imgLogo} src={logo} alt='Logo'/></div>\r\n        </div>\r\n\r\n    )\r\n};\r\n\r\nexport default LogIn;","import React from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToProps = (store) => ({\r\n    userId: store.login.userId,\r\n});\r\n\r\nexport const withoutAuthRedirect = (Component) => {\r\n  class RedirectComponent extends React.Component {\r\n      render() {\r\n          if (this.props.userId) {\r\n              return <Redirect to='/profile'/>;\r\n          }\r\n          return <Component {...this.props}/>\r\n      }\r\n  }\r\n\r\n    return connect(mapStateToProps)(RedirectComponent);\r\n};","import React from 'react'\r\nimport LogIn from \"./LogIn\";\r\nimport {connect} from \"react-redux\";\r\nimport {getLogin} from \"../../redux/LoginReducer\";\r\nimport {withoutAuthRedirect} from \"../../hoc/withoutAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nclass LogInContainer extends React.Component {\r\n\r\n    render() {\r\n        return <LogIn {...this.props}/>\r\n    }\r\n}\r\n\r\nconst mapStoreToProps = (store) => {\r\n    return {\r\n\r\n    }\r\n};\r\n\r\nconst DispatchToProps = {\r\n    getLogin\r\n};\r\n\r\nexport default compose (\r\n    connect (mapStoreToProps, DispatchToProps),\r\n    withoutAuthRedirect,\r\n)(LogInContainer)","import React from 'react'\r\nimport s from './charButtons.module.css'\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\n\r\n//props: likes, dislikes, aids, onClicks()\r\n\r\nfunction CharButtons(props) {\r\n    return <>\r\n        <button className={s.answer}>Answer</button>\r\n        <button className={s.like} onClick={() => props.changeCount(props.id, props.likes, 'likes')}\r\n                style={{color: `${props.colorlikes}`}}>\r\n            <FontAwesomeIcon icon={'thumbs-up'} /> {props.likes}\r\n        </button>\r\n        <button className={s.dislike} onClick={() => props.changeCount(props.id, props.dislikes, 'dislikes')}\r\n                style={{color: `${props.colordislikes}`}}>\r\n            <FontAwesomeIcon icon={'thumbs-down'} /> {props.dislikes}\r\n        </button>\r\n        <button className={s.aid} onClick={() => props.changeCount(props.id, props.aids, 'aids')}>\r\n            <FontAwesomeIcon icon={'praying-hands'} /> {props.aids}\r\n        </button>\r\n    </>\r\n}\r\n\r\n\r\n\r\nexport default CharButtons;","import React from 'react'\r\nimport s from './post.module.css'\r\nimport Loader from \"../../Common/Loader/Loader\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport CharButtons from \"../../Common/CharButtons/CharButtons\";\r\n\r\nlet Post = (props) => {\r\n\r\n    if (!props.post)\r\n        return <Loader/>;\r\n\r\n    return (\r\n        <div className={s.main}>\r\n            <FontAwesomeIcon className={s.cross} icon={'times'}\r\n                             onClick={() => props.deletePost(props.post.id, props.post.pageId, props.post.userId)} />\r\n            <div className={s.mainPost}>\r\n                <div className={s.avatar}>\r\n                    <NavLink to={`/profile/${props.post.userId}`}>\r\n                        <div className={s.avatarImg}\r\n                             style={{backgroundImage: `url(${props.post.avatar})`}}/>\r\n                    </NavLink>\r\n                </div>\r\n                <div className={s.name}>{props.post.name}</div>\r\n                <div className={s.text}><p className={s.ptext}>{props.post.text}</p></div>\r\n                <div className={s.buttons}>\r\n                    <CharButtons likes={props.post.likes} dislikes={props.post.dislikes} aids={props.post.aids}\r\n                             id={props.post.id} changeCount={props.changeCount}\r\n                             colorlikes={props.post.likes > props.post.dislikes ? 'green' : \"#E8E8E8\"}\r\n                             colordislikes={props.post.likes < props.post.dislikes ? 'red' : \"#E8E8E8\"}/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Post;","import React from 'react'\r\nimport s from './news.module.css'\r\nimport Post from \"../Profile/Posts/Post\";\r\n\r\nlet News = (props) => {\r\n\r\n    return (\r\n        <div className={s.main}>\r\n            {props.posts && props.posts.map((post, k) => <Post key={k} post={post}/>)}\r\n        </div>\r\n\r\n    )\r\n};\r\n\r\nexport default News;","import {NewsAPI} from \"../api/api\";\r\n\r\nconst SET_POSTS = 'news/SET_POSTS';\r\n\r\n\r\nlet initialState = {\r\n    posts: []\r\n};\r\n\r\nconst NewsReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case SET_POSTS:\r\n            return {...state, posts: action.posts}\r\n        default:\r\n    }\r\n    return state;\r\n};\r\n\r\nexport const setPosts = (posts) => ({type: SET_POSTS, posts: posts});\r\n\r\nexport const getNews = () => async (dispatch) => {\r\n    let response = await NewsAPI.getPosts();\r\n    dispatch(setPosts(response));\r\n};\r\n\r\nexport default NewsReducer;","import News from \"./News\";\r\nimport {connect} from \"react-redux\";\r\nimport React from \"react\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {getNews} from \"../../redux/NewsReducer\";\r\n\r\nclass NewsContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.getNews();\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        let copyPost = [...this.props.posts];\r\n\r\n        copyPost.reverse();\r\n\r\n        return <News posts={copyPost} />\r\n    }\r\n}\r\n\r\nconst mapStoreToProps = (store) => {\r\n    return {\r\n        posts: store.news.posts\r\n    }\r\n};\r\n\r\nconst DispatchToProps = {\r\n    getNews\r\n};\r\n\r\nexport default compose (\r\n    connect (mapStoreToProps, DispatchToProps),\r\n    withAuthRedirect,\r\n)(NewsContainer, true)\r\n","import React from 'react'\r\nimport s from './writePost.module.css'\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../../../Common/FormsControls/FormsControls\";\r\n\r\nlet WritePostForm = (props) => {\r\n  return (\r\n      <form className={s.writePost} onSubmit={props.handleSubmit}>\r\n          <Field component={Textarea}  name='text' placeholder='Your new post...'/>\r\n          <button className={s.butPost}>\r\n              Post\r\n          </button>\r\n      </form>\r\n  )\r\n};\r\n\r\nlet WritePostReduxForm = reduxForm({form: 'writePost'})(WritePostForm);\r\n\r\nlet WritePost = (props) => {\r\n\r\n    const onSubmit = (formData) => {\r\n        props.postPost(props.pageId, props.userId, formData.text);\r\n        formData.text = \"\";\r\n    };\r\n\r\n    return (\r\n        <WritePostReduxForm {...props} onSubmit={onSubmit}/>\r\n    )\r\n};\r\n\r\nexport default WritePost;","import React from 'react';\r\nimport Post from \"./Post\";\r\nimport {connect} from \"react-redux\";\r\nimport WritePost from \"./WritePost/WritePost\";\r\nimport {\r\n    changeCount,\r\n    deletePost,\r\n    postPost\r\n} from \"../../../redux/ProfileReducer\";\r\nimport {compose} from \"redux\";\r\n\r\nclass PostsContainer extends React.Component {\r\n\r\n    deletePost = (id, pageId, userId) => {\r\n        if (this.props.cookieId === userId || this.props.cookieId === pageId) {\r\n            this.props.deletePost(id, pageId);\r\n        }\r\n    };\r\n\r\n    changeCount = (id, count, name) => {\r\n        this.props.changeCount(id, count, name, this.props.cookieId);\r\n    };\r\n\r\n    render() {\r\n\r\n        return <>\r\n            <WritePost name={this.props.name} userId={this.props.userId}\r\n                       pageId={this.props.pageId} postPost={this.props.postPost}/>\r\n            {this.props.posts.map((res, i) =>\r\n                <Post key={i} post={res} deletePost={this.deletePost} changeCount={this.changeCount}/>)}\r\n        </>\r\n    }\r\n}\r\n\r\n\r\nconst mapStoreToProps = (store) => {\r\n    return {\r\n        cookieId: store.login.userId\r\n    }\r\n};\r\n\r\nconst DispatchToProps = {\r\n    postPost,\r\n    deletePost,\r\n    changeCount,\r\n};\r\n\r\nexport default compose (\r\n    connect (mapStoreToProps, DispatchToProps)\r\n)(PostsContainer)","import {FriendsAPI} from \"../api/api\";\r\n\r\nconst ADD_FRIEND = 'ADD_FRIEND';\r\nconst ADD_FOLLOWER = 'ADD_FOLLOWER';\r\nconst ADD_FOLLOWING = 'ADD_FOLLOWING';\r\nconst REMOVE_FRIEND = 'REMOVE_FRIEND';\r\nconst REMOVE_FOLLOWER = 'REMOVE_FOLLOWER';\r\nconst REMOVE_FOLLOWING = 'REMOVE_FOLLOWING';\r\nconst TOGGLE_BOOLEAN = 'TOGGLE_BOOLEAN';\r\nconst TOGGLE_FIND= 'TOGGLE_FIND';\r\nconst SET_FRIENDS = 'SET_FRIENDS';\r\nconst SET_FOLLOWERS = 'SET_FOLLOWERS';\r\nconst SET_FOLLOWING = 'SET_FOLLOWING';\r\n\r\n\r\nlet initialState = {\r\n    friends: [],\r\n    followers: [],\r\n    following: [],\r\n    boolean: null,\r\n    toggleFind: false\r\n};\r\n\r\nconst FriendsReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case ADD_FRIEND:\r\n            return {...state, friends: [...state.friends, action.friend]};\r\n        case ADD_FOLLOWER:\r\n            return {...state, followers: [...state.followers, action.user]};\r\n        case ADD_FOLLOWING:\r\n            return {...state, following: [...state.following, action.user]};\r\n        case REMOVE_FRIEND:\r\n            return  {...state, friends: [...state.friends.filter(res => res.id !== action.id)]};\r\n        case REMOVE_FOLLOWER:\r\n            return  {...state, followers: [...state.followers.filter(res => res.id !== action.id)]};\r\n        case REMOVE_FOLLOWING:\r\n            console.log({...state, following: [...state.following.filter(res => res.id !== action.id)]});\r\n            return  {...state, following: [...state.following.filter(res => res.id !== action.id)]};\r\n        case SET_FRIENDS:\r\n            return {...state, friends: [...action.friends]};\r\n        case SET_FOLLOWERS:\r\n            return {...state, followers: [...action.followers]};\r\n        case SET_FOLLOWING:\r\n            return {...state, following: [...action.following]};\r\n        case TOGGLE_BOOLEAN:\r\n            return {...state, boolean: action.bool};\r\n        case TOGGLE_FIND:\r\n            if (state.toggleFind)\r\n                return {...state, toggleFind: false};\r\n            else\r\n                return {...state, toggleFind: true};\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nconst addFriend = (friend) => ({type: ADD_FRIEND, friend: friend});\r\nconst addFollower= (user) => ({type: ADD_FOLLOWER, user: user});\r\nconst addFollowing= (user) => ({type: ADD_FOLLOWING, user: user});\r\nconst removeFriend = (id) => ({type: REMOVE_FRIEND, id: id});\r\nconst removeFollower = (id) => ({type: REMOVE_FOLLOWER, id: id});\r\nconst removeFollowing = (id) => ({type: REMOVE_FOLLOWING, id: id});\r\nconst setFriends = (friends) => ({type: SET_FRIENDS, friends: friends});\r\nconst setFollowers = (followers) => ({type: SET_FOLLOWERS, followers: followers});\r\nconst setFollowing = (following) => ({type: SET_FOLLOWING, following: following});\r\nconst toggleBoolean = (bool) => ({type: TOGGLE_BOOLEAN, bool: bool});\r\n\r\nexport const findFriend = (userId, cookieId) => (dispatch) => {\r\n    let bool = null;\r\n    FriendsAPI.getFollow(userId).then(data => {\r\n        bool = data.friends.some((id) => id === cookieId);\r\n        dispatch(toggleBoolean(bool));\r\n        dispatch({type: TOGGLE_FIND});\r\n    });\r\n};\r\n\r\nexport const getFollows = (userId) => (dispatch) => {\r\n    FriendsAPI.getFollow(userId).then(data => {\r\n        let j = 1;\r\n        let arrFriends = [];\r\n        if (data.friends.length === 0) {\r\n            dispatch(setFriends(arrFriends));\r\n        }\r\n        for (let i = 0; i < data.friends.length; i++) {\r\n            FriendsAPI.getFollow(data.friends[i]).then(friend => {\r\n                if (friend) {\r\n                    arrFriends.push({id: friend.id, avatar: friend.avatar, name: friend.name,\r\n                        secondName: friend.secondName, status: friend.status});\r\n                    if (j === data.friends.length) {\r\n                        dispatch(setFriends(arrFriends));\r\n                    }\r\n                }\r\n                j++;\r\n            });\r\n        }\r\n    });\r\n};\r\n\r\nexport const postFollow = (userId, cookieId) => async (dispatch) => {\r\n    let data = await FriendsAPI.getFollow(userId);\r\n    let arrId = data.followers;\r\n    arrId.push(cookieId);\r\n    FriendsAPI.patchFollowers(userId, arrId);\r\n\r\n    data = await FriendsAPI.getFollow(cookieId);\r\n    arrId = data.following;\r\n    arrId.push(userId);\r\n    FriendsAPI.patchFollowing(cookieId, arrId);\r\n    dispatch(addFollower({id: data.id, name: data.name, avatar: data.avatar}));\r\n};\r\n\r\nexport const deleteFollow = (userId, cookieId) => async (dispatch) => {\r\n\r\n    let second = false;\r\n    let data = await FriendsAPI.getFollow(userId);\r\n    if (data.following.some(id => id === cookieId)) {\r\n        second = true;\r\n        data.following.splice(data.following.indexOf(cookieId), 1);\r\n        dispatch(removeFollowing(cookieId));\r\n        FriendsAPI.patchFollowing(userId, data.following);\r\n    } else {\r\n        dispatch(removeFollower(cookieId));\r\n        FriendsAPI.patchFollowers(userId, data.following);\r\n    }\r\n\r\n    data = await FriendsAPI.getFollow(cookieId);\r\n    if (second) {\r\n        data.followers.splice(data.followers.indexOf(userId), 1);\r\n        FriendsAPI.patchFollowers(cookieId, data.following);\r\n    } else {\r\n        data.following.splice(data.following.indexOf(userId), 1);\r\n        FriendsAPI.patchFollowing(cookieId, data.following);\r\n    }\r\n\r\n};\r\n\r\nexport const deleteFriend = (userId, cookieId) => (dispatch) => {\r\n    FriendsAPI.getFollow(userId).then(data => {\r\n        let friendsId = data.friends;\r\n        friendsId.splice(friendsId.indexOf(cookieId), 1);\r\n        FriendsAPI.patchFriend(userId, friendsId);\r\n        dispatch(removeFriend(cookieId));\r\n    });\r\n    FriendsAPI.getFollow(cookieId).then(data => {\r\n        let friendsId = data.friends;\r\n        friendsId.splice(friendsId.indexOf(userId), 1);\r\n        FriendsAPI.patchFriend(cookieId, friendsId);\r\n    });\r\n};\r\n\r\n\r\n//Profile\r\n\r\nexport const getProfileFriends = (arrId) => (dispatch) => {\r\n    let arrFriends = [];\r\n    let count = 8;\r\n    arrId.length < count && (count = arrId.length);\r\n    if (count === 0) {\r\n        dispatch(setFriends(arrFriends));\r\n    }\r\n    for (let i = 0; i < count; i++) {\r\n        let item = Math.floor(Math.random() * arrId.length);\r\n        let id = arrId[item];\r\n        arrId.splice(item, 1);\r\n        FriendsAPI.getFollow(id).then(data => {\r\n            if (data) {\r\n                arrFriends.push({id: data.id, avatar: data.avatar, name: data.name});\r\n                if (arrFriends.length === count) {\r\n                    dispatch(setFriends(arrFriends));\r\n                }\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\nexport const getProfileFollowers = (arrId) => (dispatch) => {\r\n    let arrFriends = [];\r\n    let count = 8;\r\n    arrId.length < count && (count = arrId.length);\r\n    if (count === 0) {\r\n        dispatch(setFollowers(arrFriends));\r\n    } else\r\n    for (let i = 0; i < count; i++) {\r\n        let item = Math.floor(Math.random() * arrId.length);\r\n        let id = arrId[item];\r\n        arrId.splice(item, 1);\r\n        FriendsAPI.getFollow(id).then(data => {\r\n            if (data) {\r\n                arrFriends.push({id: data.id, avatar: data.avatar, name: data.name});\r\n                if (arrFriends.length === count) {\r\n                    dispatch(setFollowers(arrFriends));\r\n                }\r\n            }\r\n        });\r\n    }\r\n};\r\nexport const getProfileFollowing = (arrId) => (dispatch) => {\r\n    let arrFriends = [];\r\n    let count = 8;\r\n    arrId.length < 8 && (count = arrId.length);\r\n    if (count === 0) {\r\n        dispatch(setFollowing(arrFriends));\r\n    } else\r\n    for (let i = 0; i < count; i++) {\r\n        let item = Math.floor(Math.random() * arrId.length);\r\n        let id = arrId[item];\r\n        arrId.splice(item, 1);\r\n        FriendsAPI.getFollow(id).then(data => {\r\n            if (data) {\r\n                arrFriends.push({id: data.id, avatar: data.avatar, name: data.name});\r\n                if (arrFriends.length === count) {\r\n                    dispatch(setFollowing(arrFriends));\r\n                }\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\nexport default FriendsReducer;","import React from 'react'\r\nimport s from './friendshipButton.module.css'\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    deleteFollow,\r\n    deleteFriend,\r\n    findFriend,\r\n    postFollow\r\n} from \"../../../redux/FriendsReducer\";\r\nimport {compose} from \"redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\n\r\n//userId\r\n\r\nclass FriendshipButtoi extends React.Component {\r\n\r\n    state = {\r\n        bool: null,\r\n        value: ''\r\n    };\r\n\r\n    componentDidMount() {\r\n        debugger;\r\n        if (this.props.following.some((id) => id === this.props.userId)) {\r\n            this.setState({value: 'FOLLOWING'});\r\n        } else if (this.props.followers.some((id) => id === this.props.userId)) {\r\n            this.setState({value: 'FOLLOWER'});\r\n        } else if (this.props.friends.some((id) => id === this.props.userId)) {\r\n            this.setState({value: 'FRIEND'});\r\n        } else {\r\n            this.setState({value: 'NOBODY'});\r\n        }\r\n    };\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevProps.userId !== this.props.userId)\r\n        {\r\n            this.componentDidMount();\r\n        }\r\n        /*if (this.props.find !== prevProps.find) {\r\n            this.setState({bool: this.props.bool});\r\n        }*/\r\n    };\r\n    onClickFollow = (userId, cookieId) => {\r\n        this.setState({value: 'FOLLOWING'});\r\n        this.props.postFollow(userId, cookieId);\r\n    };\r\n    onClickUnfollow = (userId, cookieId) => {\r\n        this.setState({value: 'NOBODY'});\r\n        this.props.deleteFollow(userId, cookieId);\r\n    };\r\n    onClickFriend = (userId, cookieId) => {\r\n        this.setState({value: false});\r\n        this.props.deleteFriend(userId, cookieId);\r\n    };\r\n    onClickAddFriend = (userId, cookieId) => {\r\n        this.setState({value: true});\r\n        this.props.postFollow(userId, cookieId);\r\n    };\r\n\r\n    render() {\r\n        return <div className={s.all}>\r\n            {this.props.cookieId !== this.props.userId && <>\r\n                {this.state.value === 'FOLLOWING' &&\r\n                    <Button text={`You're following`} userId={this.props.userId} cookieId={this.props.cookieId}\r\n                    changeFollow={this.onClickUnfollow}/>}\r\n                {this.state.value === 'FOLLOWER' &&\r\n                    <Button text={`Follower`} userId={this.props.userId} cookieId={this.props.cookieId}\r\n                    changeFollow={this.onClickUnfollow}/>}\r\n                {this.state.value === 'FRIEND' &&\r\n                    <Button text={`Friend`} userId={this.props.userId} cookieId={this.props.cookieId}\r\n                    changeFollow={this.onClickFriend}/>}\r\n                {this.state.value === 'NOBODY' &&\r\n                    <Button text={`Add to Friends`} userId={this.props.userId} cookieId={this.props.cookieId}\r\n                    changeFollow={this.onClickFollow}/>}\r\n                </>}\r\n        </div>\r\n    }\r\n\r\n}\r\n\r\nconst Button = (props) => {\r\n    return (\r\n        <div className={s.main} >\r\n            <button className={s.button} onClick={() =>\r\n                props.changeFollow(props.userId, props.cookieId)}>{props.text}</button>\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\nconst mapStoreToProps = (store) => {\r\n    return {\r\n        cookieId: store.login.userId,\r\n        friends: store.profile.header.friends,\r\n        followers: store.profile.header.followers,\r\n        following: store.profile.header.following,\r\n        bool: store.friends.boolean,\r\n        find: store.friends.toggleFind\r\n    }\r\n};\r\n\r\nlet DispatchToProps = {\r\n    findFriend,\r\n    postFollow,\r\n    deleteFriend,\r\n    deleteFollow\r\n};\r\n\r\nexport default compose (\r\n    connect (mapStoreToProps, DispatchToProps),\r\n    withRouter\r\n)(FriendshipButtoi)","import React from 'react'\r\nimport s from './info.module.css'\r\nimport Loader from \"../../Common/Loader/Loader\";\r\nimport FriendshipButton from \"../../Common/FriendshipButton/FriendshipButton\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport {getAge} from \"../../Common/Functions/Functions\";\r\nimport TextareaAutosize from 'react-autosize-textarea';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet Info = (props) => {\r\n    let state = [];\r\n    if (props.data.id === 1) {\r\n        state = ['https://sun6-16.userapi.com/c635104/v635104721/402ac/gJ2A-jteR4A.jpg', 'https://sun6-13.userapi.com/c851120/v851120702/17a974/X4Tyv1aQVC0.jpg',\r\n            'https://sun6-16.userapi.com/c855532/v855532118/cc3fa/d28oGdhwyks.jpg', 'https://pp.userapi.com/c856120/v856120932/c44de/lKhGxiQyJxs.jpg',\r\n            'https://pp.userapi.com/c855528/v855528880/bce2f/aqVEOGC4JIA.jpg', 'https://sun6-19.userapi.com/c858036/v858036833/4c261/7_TXDjPPeH4.jpg', '' +\r\n            'https://sun6-13.userapi.com/c543100/v543100907/9d312/XQXJnT9bpr0.jpg', 'https://sun6-14.userapi.com/c856024/v856024362/c5cde/OVeMlogDNdU.jpg', '' +\r\n            'https://sun6-14.userapi.com/c857736/v857736593/4fe5d/c3raZVu_xnM.jpg', 'https://sun6-14.userapi.com/c543100/v543100895/673db/HAibv5agpcI.jpg'\r\n        ];\r\n    }\r\n    if (!props.data)\r\n        return <Loader />;\r\n\r\n    let [dateOfBirth, age] = getAge(props.data.dateOfBirth);\r\n\r\n    let sanna = (e) => {\r\n        if (e.key === 'Enter')\r\n            e.target.blur();\r\n    };\r\n\r\n    let onBlurStatus = (id, value) => {\r\n        props.toggleEditStatus();\r\n        props.patchStatus(id, value)\r\n    };\r\n\r\n    return <div className={s.mainProfile}>\r\n\r\n        <div className={s.status}>\r\n            <div className={s.divStatus}>\r\n                <p className={s.pStatus}>Status <FontAwesomeIcon icon={'feather-alt'}/></p>\r\n                {!props.state.EditStatus ?\r\n                    <div className={s.statusSpan} onClick={props.toggleEditStatus}>\r\n                    {props.data.status ? props.data.status : 'Edit Status'}\r\n                </div> :\r\n                    <TextareaAutosize className={s.statusInput} onKeyDown={(e) => sanna(e)}\r\n                                      onBlur={(e) => onBlurStatus(props.data.id, e.target.value)}\r\n                                      autoFocus >{props.data.status}</TextareaAutosize>\r\n                }\r\n            </div>\r\n        </div>\r\n\r\n        <div className={s.avatar}>\r\n            <div className={s.avatarImg} style={{backgroundImage: `url(${props.data.avatar})`}}\r\n                 onClick={() => props.setActivePhoto(props.data.avatar)}/>\r\n        </div>\r\n\r\n        <div className={s.info}>\r\n            <ul className={s.ul}>\r\n                {props.data.dateOfBirth &&\r\n                    <li><FontAwesomeIcon icon={'birthday-cake'}/> Born at {dateOfBirth}</li>\r\n                }\r\n                {props.data.dateOfBirth &&\r\n                    <li><FontAwesomeIcon icon={'hourglass'}/> {age} years old</li>}\r\n                {props.data.placeOfBirth &&\r\n                    <li>\r\n                        <FontAwesomeIcon icon={'home'}/> Born in {props.data.placeOfBirth.country}\r\n                        {props.data.placeOfBirth.city && ','} {props.data.placeOfBirth.city}\r\n                    </li>}\r\n                {props.data.relationship &&\r\n                <li><FontAwesomeIcon icon={'heart'}/> {props.data.relationship}</li>}\r\n            </ul>\r\n        </div>\r\n\r\n        <div className={s.underMiddle}>\r\n            <div className={s.mainName}>{props.data.name} {props.data.secondName}</div>\r\n            <div className={s.location}>\r\n                {props.data.location.country !== 'Any' && props.data.location.country}\r\n                {props.data.location.city !== 'Any' && `, ${props.data.location.city}`}\r\n            </div>\r\n        </div>\r\n\r\n        <div className={s.underRight}>\r\n            {props.cookieId !== props.data.id &&\r\n                <NavLink className={s.butMes} to={'/message'} onClick={() => props.toggleWrite({id: props.data.id,\r\n                    avatar: props.data.avatar, name: props.data.name + ' ' + props.data.secondName})}>\r\n                Write\r\n            </NavLink>}\r\n\r\n            {props.cookieId !== props.data.id &&\r\n            <div className={s.butFriend}><FriendshipButton userId={props.data.id} /></div>}\r\n            <div className={s.butOptions}><FontAwesomeIcon icon={'align-justify'} className={s.icon}/></div>\r\n        </div>\r\n\r\n        <div className={s.photos}>\r\n            {state.map((res, i) => {\r\n                return <div key={i} className={s.photosImg} onClick={() => props.setActivePhoto(res)}\r\n                            style={{backgroundImage: `url(${res})`}}/>\r\n            })}\r\n        </div>\r\n\r\n        {props.activePhoto && <div className={s.activePhoto} onClick={() => props.setActivePhoto(null)}>\r\n            <img src={props.activePhoto} alt={''}/>\r\n        </div>}\r\n\r\n    </div>\r\n};\r\n\r\nexport default Info;","import {MessagesAPI, ProfileAPI} from \"../api/api\";\r\n\r\nconst SET_INPUTS = 'SET_INPUTS';\r\nconst CHANGE_INPUT = 'CHANGE_INPUT';\r\nconst SET_MES = 'SET_MES';\r\nconst SET_DIALOGS = 'SET_DIALOGS';\r\nconst POST_ONE_DIALOG = 'POST_ONE_DIALOG';\r\nconst DELETE_MES = 'DELETE_MES';\r\nconst PUT_MES = 'PUT_MES';\r\nconst TOGGLE_WRITE = 'TOGGLE_WRITE';\r\nconst DELETE_DIALOG = 'DELETE_DIALOG';\r\n\r\n\r\nlet initialState = {\r\n    messages: [],\r\n    users: [],\r\n    inputs: [],\r\n    write: false\r\n};\r\n\r\nconst MessagesReducer = (state = initialState, action) => {\r\n    let stateCopy;\r\n    switch(action.type) {\r\n        case SET_MES:\r\n            return {...state, messages: action.mes};\r\n        case SET_DIALOGS:\r\n            return {...state, users: [...action.users]};\r\n        case SET_INPUTS:\r\n            stateCopy = {...state, inputs: [...state.inputs]};\r\n            for (let i = 0; i < action.count; i++) {\r\n                stateCopy.inputs.push('');\r\n            }\r\n            return stateCopy;\r\n        case CHANGE_INPUT:\r\n            stateCopy = {...state, inputs: [...state.inputs]};\r\n            stateCopy.inputs[action.id] = action.text;\r\n            return stateCopy;\r\n        case DELETE_MES:\r\n            stateCopy = {...state, messages: [...state.messages]};\r\n            stateCopy.messages.some((res, k) => res.id === action.user && (action.user = k));\r\n            stateCopy.messages[action.user].mes = [...state.messages[action.user].mes];\r\n            stateCopy.messages[action.user].mes =\r\n                stateCopy.messages[action.user].mes.filter((res) => res.id !== action.id);\r\n            return stateCopy;\r\n        case PUT_MES:\r\n            stateCopy = {...state, messages: [...state.messages]};\r\n            let i = -1;\r\n            stateCopy.messages.some((res, k) => res.id === action.id && (i = k));\r\n            if (i === -1) {\r\n                stateCopy.messages.push({id: action.id, mes: [action.mes]});\r\n            }\r\n            else {\r\n                stateCopy.messages[i].mes = [...state.messages[i].mes];\r\n                stateCopy.messages[i].mes.push(action.mes);\r\n            }\r\n            return stateCopy;\r\n        case POST_ONE_DIALOG:\r\n            stateCopy = {...state, users: [...state.users]};\r\n            let bool = stateCopy.users.some((res) => res.id === action.user.id);\r\n            if (!bool) {\r\n                let a = action.user;\r\n                return {...state, users: [...state.users, {id: a.id,\r\n                        avatar: a.avatar, name: a.name}]};\r\n            } else\r\n                return state;\r\n        case DELETE_DIALOG:\r\n            stateCopy = {...state, messages: [...state.messages], users: [...state.users]};\r\n            stateCopy.messages = stateCopy.messages.filter(\r\n                (res) => res.id !== action.id);\r\n            stateCopy.users = stateCopy.users.filter(\r\n                (res) => res.id !== action.id);\r\n            return stateCopy;\r\n        case TOGGLE_WRITE:\r\n            if (action.data) {\r\n                return {...state, write: {...action.data}};\r\n            } else\r\n                return {...state, write: action.data};\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nconst setDialogs = (users) => ({type: SET_DIALOGS, users: users});\r\nconst postOneDialog = (user) => ({type: POST_ONE_DIALOG, user: user});\r\nconst setInputs = (count) => ({type: SET_INPUTS, count: count});\r\nexport const changeInput = (text, id) => ({type: CHANGE_INPUT, id: id, text: text});\r\nconst setMessages = (mes) => ({type: SET_MES, mes: mes});\r\nconst deleteMessages = (user, id) => ({type: DELETE_MES, user: user, id: id});\r\nconst putMessages = (id, mes) => ({type: PUT_MES, id: id, mes: mes});\r\nconst deleteDialogAC = (id) => ({type: DELETE_DIALOG, id: id});\r\nexport const toggleWrite = (data) => ({type: TOGGLE_WRITE, data: data});\r\n\r\nexport const getDialogs = (cookieId) => async (dispatch) => {\r\n    let profile = await ProfileAPI.getProfile(cookieId);\r\n    let arrId = await MessagesAPI.getDialogsId(cookieId);\r\n    let arr = []; let messages = [];\r\n    let count = arrId.length; let q = 0;\r\n    if (count === 0) {\r\n        dispatch(setDialogs(arr));\r\n    }\r\n    for (let i = 0; i < count; i++) {\r\n        let data = await MessagesAPI.getWroteUsers(arrId[i]);\r\n        if (data) {\r\n            let mes = await MessagesAPI.getMes(cookieId, arrId[i]);\r\n            messages.push({id: arrId[i], mes: []});\r\n            mes.map((res) => messages[messages.length - 1].mes.push(\r\n                {id: res.id, avatar: profile.avatar,\r\n                    name: profile.name, text: res.text, time: res.time, fromMe: true}));\r\n\r\n            let mesOut = await MessagesAPI.getMes(arrId[i], cookieId);\r\n            let j; q++;\r\n            messages.some((res, k) => (res.id === arrId[i]) && (j = k));\r\n            mesOut.map((res) => messages[j].mes.push(\r\n                {id: res.id, avatar: data.avatar, name: data.name,\r\n                    text: res.text, time: res.time, fromMe: false}));\r\n\r\n            if (count === q) {\r\n                messages.map((res) => res.mes.sort((a, b) => a.id - b.id));\r\n                dispatch(setMessages(messages));\r\n            }\r\n            arr.push({id: data.id, avatar: data.avatar,\r\n                name: data.name + ' ' + data.secondName});\r\n            if (arr.length === count) {\r\n                dispatch(setDialogs(arr));\r\n                dispatch(setInputs(count));\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nexport const deleteMes = (userId, cookieId, mesId, lastElement) => (dispatch) => {\r\n    if (lastElement === 1) {\r\n        dispatch(deleteDialog(userId, cookieId));\r\n    }\r\n    else {\r\n        MessagesAPI.deleteMes(mesId).then(res => {\r\n            if (res.status === 200) {\r\n                dispatch(deleteMessages(userId, mesId));\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\nexport const putMes = (userId, data, cookieId, newMes, user) => async (dispatch) => {\r\n    let profile = await ProfileAPI.getProfile(cookieId);\r\n    data.avatar = profile.avatar; data.name = profile.name;\r\n    if (newMes) {\r\n        let id = [userId, cookieId]; let t;\r\n        for (let i = 0; i < 2; i++) {\r\n            let res = await MessagesAPI.getDialogsId(id[i]);\r\n            i === 0 ? t = 1 : t = 0;\r\n            res.push(id[t]);\r\n            await MessagesAPI.postDialog(id[i], res);\r\n            if (i) {\r\n                dispatch(postMesFunction(userId, cookieId, data, user));\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        dispatch(postMesFunction(userId, cookieId, user));\r\n    }\r\n};\r\n\r\nconst postMesFunction = (userId, cookieId, data, user) => (dispatch) => {\r\n    MessagesAPI.postMes(\r\n        {inId: userId, outId: cookieId, time: data.time, text: data.text}).then(res => {\r\n        if (res.status === 201) {\r\n            data.id = res.data.id;\r\n            dispatch(putMessages(userId, data));\r\n            if (user) {\r\n                dispatch(postOneDialog(user));\r\n            }\r\n        }\r\n    });\r\n};\r\n\r\nexport const deleteDialog = (userId, cookieId) => (dispatch) => {\r\n    MessagesAPI.getDialogsId(cookieId).then(res => {\r\n        res = res.filter(id => id !== userId);\r\n        MessagesAPI.postDialog(cookieId, res);\r\n        MessagesAPI.getMes(userId, cookieId).then(res => {\r\n            res.map((mes) => MessagesAPI.deleteDialog(mes.id));\r\n        });\r\n        MessagesAPI.getMes(cookieId, userId).then(res => {\r\n            res.map((mes) => MessagesAPI.deleteDialog(mes.id));\r\n        });\r\n        dispatch(deleteDialogAC(userId));\r\n    });\r\n    MessagesAPI.getDialogsId(userId).then(res => {\r\n        res = res.filter(id => id !== cookieId);\r\n        MessagesAPI.postDialog(userId, res);\r\n    });\r\n};\r\n\r\nexport default MessagesReducer;","import React from 'react'\r\nimport s from './info.module.css'\r\nimport Loader from \"../../Common/Loader/Loader\";\r\nimport FriendshipButton from \"../../Common/FriendshipButton/FriendshipButton\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport {getAge} from \"../../Common/Functions/Functions\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet Info = (props) => {\r\n    let state = ['https://sun6-16.userapi.com/c635104/v635104721/402ac/gJ2A-jteR4A.jpg', 'https://sun6-13.userapi.com/c851120/v851120702/17a974/X4Tyv1aQVC0.jpg',\r\n        'https://sun6-16.userapi.com/c855532/v855532118/cc3fa/d28oGdhwyks.jpg', 'https://pp.userapi.com/c856120/v856120932/c44de/lKhGxiQyJxs.jpg',\r\n        'https://pp.userapi.com/c855528/v855528880/bce2f/aqVEOGC4JIA.jpg', 'https://sun6-19.userapi.com/c858036/v858036833/4c261/7_TXDjPPeH4.jpg', '' +\r\n        'https://sun6-13.userapi.com/c543100/v543100907/9d312/XQXJnT9bpr0.jpg', 'https://sun6-14.userapi.com/c856024/v856024362/c5cde/OVeMlogDNdU.jpg', '' +\r\n        'https://sun6-14.userapi.com/c857736/v857736593/4fe5d/c3raZVu_xnM.jpg', 'https://sun6-14.userapi.com/c543100/v543100895/673db/HAibv5agpcI.jpg'\r\n    ];\r\n    if (!props.data)\r\n        return <Loader />;\r\n\r\n    let [dateOfBirth, age] = getAge(props.data.dateOfBirth);\r\n\r\n    let sanna = (e) => {\r\n        if (e.key === 'Enter')\r\n            e.target.blur();\r\n    };\r\n\r\n    return <div className={s.mainProfile}>\r\n\r\n\r\n\r\n        <div className={s.avatar}>\r\n            <div className={s.avatarImg} style={{backgroundImage: `url(${props.data.avatar})`}}\r\n                 onClick={() => props.setActivePhoto(props.data.avatar)}/>\r\n        </div>\r\n\r\n        <div className={s.mainName}>{props.data.name} {props.data.secondName}</div>\r\n\r\n        <div className={s.divStatus}>\r\n            {!props.state.EditStatus ?\r\n                <span className={s.statusSpan} onClick={props.toggleEditStatus}>\r\n                    {props.data.status ? props.data.status : 'Edit Status'}\r\n                </span> :\r\n                <input className={s.statusInput} onBlur={props.toggleEditStatus}\r\n                       onKeyDown={(e) => sanna(e)}\r\n                       onChange={(e) => {props.patchStatus(props.data.id, e.target.value)}}\r\n                       value={props.data.status} autoFocus/>}\r\n        </div>\r\n\r\n        {props.cookieId !== props.data.id && <>\r\n            <NavLink className={s.butMes} to={'/message'} onClick={() => props.toggleWrite({id: props.data.id,\r\n                avatar: props.data.avatar, name: props.data.name + ' ' + props.data.secondName})}>\r\n                Write\r\n            </NavLink>\r\n            <div className={s.butFriend}><FriendshipButton userId={props.data.id} /></div>\r\n        </>}\r\n\r\n        <div className={s.butInfo} onClick={() => props.setActiveInfo()}>Info</div>\r\n        <div className={s.butOptions}><FontAwesomeIcon icon={'align-justify'} className={s.icon}/></div>\r\n\r\n        {props.state.mActiveInfo && <div className={s.info}>\r\n            <ul className={s.ul}>\r\n                {props.data.dateOfBirth && <li><FontAwesomeIcon icon={'birthday-cake'}/></li>}\r\n                {props.data.dateOfBirth && <li>Born at {dateOfBirth}</li>}\r\n                {props.data.dateOfBirth && <li><FontAwesomeIcon icon={'hourglass'}/></li>}\r\n                {props.data.dateOfBirth && <li>{age} years old</li>}\r\n                {props.data.placeOfBirth && <li><FontAwesomeIcon icon={'home'}/></li>}\r\n                {props.data.placeOfBirth && <li> Born in {props.data.placeOfBirth.country}\r\n                    {props.data.placeOfBirth.city && ','} {props.data.placeOfBirth.city}\r\n                </li>}\r\n                {props.data.relationship && <li><FontAwesomeIcon icon={'heart'}/></li>}\r\n                {props.data.relationship && <li>{props.data.relationship}</li>}\r\n            </ul>\r\n            <p className={s.butCloseInfo} onClick={() => props.setActiveInfo()}>Close</p>\r\n        </div>}\r\n\r\n        {props.data.id === 1 &&\r\n            <div className={s.photos}>\r\n                {state.map((res, i) => {\r\n                    return <div key={i} className={s.photosImg} onClick={() => props.setActivePhoto(res)}\r\n                                style={{backgroundImage: `url(${res})`}}/>\r\n                })}\r\n            </div>}\r\n\r\n\r\n        {props.activePhoto && <div className={s.activePhoto} onClick={() => props.setActivePhoto(null)}>\r\n            <img src={props.activePhoto} alt={''}/>\r\n        </div>}\r\n\r\n    </div>\r\n};\r\n\r\nexport default Info;","import React from \"react\";\r\nimport Info from \"./Info\";\r\nimport {connect} from \"react-redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {patchStatus} from \"../../../redux/ProfileReducer\";\r\nimport {compose} from \"redux\";\r\nimport {toggleWrite} from \"../../../redux/MessagesReducer\";\r\nimport withSizes from 'react-sizes'\r\nimport InfoMobile from \"./InfoMobile\";\r\n\r\n\r\n\r\nclass InfoContainer extends React.Component {\r\n    state = {\r\n        EditStatus: false,\r\n        activePhoto: null,\r\n        mActiveInfo: false\r\n    };\r\n\r\n    toggleEditStatus = () => {\r\n      if (this.props.cookieId === this.props.data.id) {\r\n          !this.state.EditStatus ?\r\n              this.setState({EditStatus: true}) :\r\n              this.setState({EditStatus: false})\r\n      }\r\n    };\r\n    setActivePhoto = (link) => {\r\n        !this.state.EditStatus ?\r\n            this.setState({activePhoto: link}) :\r\n            this.setState({activePhoto: null})\r\n    };\r\n    setMActiveInfo = (link) => {\r\n            this.setState({mActiveInfo: !this.state.mActiveInfo});\r\n    };\r\n\r\n    render() {\r\n        return <>\r\n                {!this.props.isMobile ?\r\n                    <Info {...this.props} state={this.state} activePhoto={this.state.activePhoto}\r\n                          setActivePhoto={this.setActivePhoto} toggleEditStatus={this.toggleEditStatus}\r\n                          toggleWrite={this.props.toggleWrite}/> :\r\n                    <InfoMobile {...this.props} state={this.state} activePhoto={this.state.activePhoto}\r\n                          setActivePhoto={this.setActivePhoto} toggleEditStatus={this.toggleEditStatus}\r\n                          toggleWrite={this.props.toggleWrite} setActiveInfo={this.setMActiveInfo} />}\r\n        </>\r\n\r\n    }\r\n}\r\n\r\nconst mapStoreToProps = (store) => {\r\n    return {\r\n        cookieId: store.login.userId\r\n    }\r\n};\r\n\r\nconst DispatchToProps = {\r\n    patchStatus,\r\n    toggleWrite\r\n};\r\n\r\nconst mapSizeToProps = ({width}) => {\r\n    return {\r\n        isMobile: width <= 1200\r\n    }\r\n};\r\n\r\nexport default compose (\r\n    connect (mapStoreToProps, DispatchToProps),\r\n    withSizes(mapSizeToProps),\r\n    withRouter\r\n)(InfoContainer)\r\n","export const Cookie = (store) => {\r\n    return store.login.userId;\r\n};\r\n\r\nexport const AllFriends = (store) => {\r\n    return store.friends.friends;\r\n};\r\n\r\nexport const getCurrentPagination = (store) => {\r\n    return [store.users.currentPage, store.users.limit];\r\n};","import React from 'react'\r\nimport s from './modules.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet ProfileFriend = (props) => {\r\n\r\n    return <NavLink className={s.one} to={`/profile/${props.data.id}`}>\r\n        <div className={s.avatarImg}\r\n             style={{backgroundImage: `url(${props.data.avatar})`}}/>\r\n            <p>{props.data.name}</p>\r\n        </NavLink>\r\n};\r\n\r\nexport default ProfileFriend;","import React from 'react'\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {NavLink, withRouter} from \"react-router-dom\";\r\nimport s from \"./modules.module.css\";\r\nimport {Cookie} from \"../../../redux/selecters\";\r\nimport ProfileFriend from \"./ProfileFriend\";\r\nimport {getProfileFollowers, getProfileFollowing, getProfileFriends} from \"../../../redux/FriendsReducer\";\r\nimport withSizes from \"react-sizes\";\r\n\r\n\r\nclass ModulesContainer extends React.Component {\r\n\r\n    state = {\r\n        amountFriends: 0,\r\n        amountFollowers: 0,\r\n        amountFollowing: 0\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.props.getProfileFriends(this.props.profileFriends);\r\n        this.props.getProfileFollowers(this.props.profileFollowers);\r\n        this.props.getProfileFollowing(this.props.profileFollowing);\r\n    };\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevProps.profileFriends !== this.props.profileFriends) {\r\n            this.props.getProfileFriends(this.props.profileFriends);\r\n        } if (prevProps.profileFollowers !== this.props.profileFollowers) {\r\n            this.props.getProfileFollowers(this.props.profileFollowers);\r\n        } if (prevProps.profileFollowing !== this.props.profileFollowing) {\r\n            this.props.getProfileFollowing(this.props.profileFollowing);\r\n        }\r\n        if (prevProps.friends.length !== this.props.friends.length) {\r\n            this.setState({amountFriends: this.props.friends.length});\r\n        }\r\n        if (prevProps.followers.length !== this.props.followers.length) {\r\n            this.setState({amountFollowers: this.props.followers.length});\r\n        }\r\n        if (prevProps.following.length !== this.props.following.length) {\r\n            this.setState({amountFollowing: this.props.following.length});\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let pageId = this.props.match.params.userId;\r\n        if (!pageId) {\r\n            pageId = this.props.cookieId;\r\n        }\r\n        return <div className={s.main}>\r\n            {!this.props.isMobile ? <>\r\n                <NavLink className={s.text} to={`/Friends/${pageId}`}>Friends {this.state.amountFriends}</NavLink>\r\n                {this.props.friends &&\r\n                <div className={s.friends}>\r\n                    {this.props.friends.map((res, k) => <ProfileFriend key={k} data={res} />)}\r\n                </div>}\r\n                <NavLink className={s.text} to={`/Friends/${pageId}`}>Following {this.state.amountFollowing}</NavLink>\r\n                {this.props.following &&\r\n                <div className={s.friends}>\r\n                    {this.props.following.map((res, k) => <ProfileFriend key={k} data={res} />)}\r\n                </div>}\r\n                <NavLink className={s.text} to={`/error`}>Communities 0</NavLink>\r\n                {this.props.friends &&\r\n                <div className={s.friends}>\r\n\r\n                </div>}\r\n                <NavLink className={s.text} to={`/Friends/${pageId}`}>Followers {this.state.amountFollowers}</NavLink>\r\n                {this.props.followers &&\r\n                <div className={s.friends}>\r\n                    {this.props.followers.map((res, k) => <ProfileFriend key={k} data={res} />)}\r\n                </div>}\r\n\r\n            </> : <>\r\n                <NavLink className={s.text} to={`/Friends/${pageId}`}>Friends ({this.state.amountFriends})</NavLink>\r\n                <NavLink className={s.text} to={`/Friends/${pageId}`}>Communities ({this.state.amountFriends})</NavLink>\r\n                <NavLink className={s.lastText} to={`/Friends/${pageId}`}>Followers ({this.state.amountFriends})</NavLink>\r\n\r\n            </>}\r\n\r\n\r\n        </div>\r\n    }\r\n}\r\n\r\nconst mapStoreToProps = (store) => {\r\n    return {\r\n        cookieId: Cookie(store),\r\n        friends: store.friends.friends,\r\n        followers: store.friends.followers,\r\n        following: store.friends.following\r\n    }\r\n};\r\n\r\nconst DispatchToProps = {\r\n    getProfileFriends,\r\n    getProfileFollowers,\r\n    getProfileFollowing\r\n};\r\n\r\nconst mapSizeToProps = ({width}) => {\r\n    return {\r\n        isMobile: width <= 1200\r\n    }\r\n};\r\n\r\n\r\nexport default compose (\r\n    connect (mapStoreToProps, DispatchToProps),\r\n    withSizes(mapSizeToProps),\r\n    withRouter\r\n)(ModulesContainer)","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {getProfile} from \"../../redux/ProfileReducer\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport PostsContainer from \"./Posts/PostsContainer\";\r\nimport InfoContainer from \"./Info/InfoContainer\";\r\nimport {getPosts} from \"../../redux/ProfileReducer\";\r\nimport s from './profile.module.css'\r\nimport {getUserId} from \"../../redux/LoginReducer\";\r\nimport Loader from \"../Common/Loader/Loader\";\r\nimport ModulesContainer from \"./Modules/ModulesContainer\";\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        let pageId = this.props.match.params.userId;\r\n        if (!pageId) {\r\n            pageId = this.props.cookieId;\r\n        }\r\n        this.props.getProfile(pageId);\r\n        this.props.getPosts(pageId);\r\n    };\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevProps.location.pathname !== this.props.location.pathname || (prevProps.profile &&\r\n            prevProps.profile.friends.length !== this.props.profile.friends.length))\r\n        {\r\n            this.componentDidMount();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n\r\n        return <>\r\n            {!this.props.profile ? <Loader /> :\r\n                <div className={s.main}>\r\n                    <div className={s.info}><InfoContainer data={this.props.profile} /></div>\r\n                    {this.props.profile.friends && <div className={s.modules}>\r\n                        <ModulesContainer profileFriends={this.props.profile.friends}\r\n                                          profileFollowers={this.props.profile.followers}\r\n                                          profileFollowing={this.props.profile.following}/>\r\n                    </div>}\r\n                    <div className={s.posts}>\r\n                        <PostsContainer posts={this.props.posts} pageId={this.props.profile.id}\r\n                                        userId={this.props.cookieId}/>\r\n                    </div>\r\n                </div>\r\n            }\r\n        </>\r\n    }\r\n}\r\n\r\nconst mapStoreToProps = (store) => {\r\n    return {\r\n        profile: store.profile.profile,\r\n        posts: store.profile.posts,\r\n        cookieId: store.login.userId,\r\n        bool: store.friends.boolean\r\n    }\r\n};\r\n\r\nconst DispatchToProps = {\r\n    getProfile,\r\n    getPosts,\r\n    getUserId\r\n};\r\n\r\nexport default compose (\r\n    connect (mapStoreToProps, DispatchToProps),\r\n    withRouter,\r\n    withAuthRedirect,\r\n)(ProfileContainer)\r\n","import React from 'react'\r\nimport s from './messagesWindow.module.css'\r\nimport {getTime} from \"../../Common/Functions/Functions\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\n\r\nlet OneMessage = (props) => {\r\n    return <div className={s.oneMes}>\r\n                <div className={s.oneMesGrid}>\r\n                    {/*<div className={s.avatar} style={{backgroundImage: `url(${props.avatar})`}}/>*/}\r\n                    <div className={s.mesWin}>\r\n                        <div className={s.name}>{props.name}</div>\r\n\r\n                        <div className={s.time}>{getTime(props.time)}</div>\r\n                        <div className={s.text}>{props.text}</div>\r\n                    </div>\r\n                </div>\r\n    </div>\r\n\r\n\r\n};\r\n\r\nexport default OneMessage;","import React, {PureComponent} from 'react'\r\nimport s from './messagesWindow.module.css'\r\nimport {connect} from \"react-redux\";\r\nimport {deleteMes, putMes} from \"../../../redux/MessagesReducer\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport {now} from \"../../Common/Functions/Functions\";\r\nimport OneMessage from \"./OneMessage\";\r\n\r\nclass MessagesWindowContainer extends PureComponent {\r\n\r\n    scrollToBottom() {\r\n        const scrollHeight = this.messageList.scrollHeight;\r\n        const height = this.messageList.clientHeight;\r\n        const maxScrollTop = scrollHeight - height;\r\n        this.messageList.scrollTop = maxScrollTop > 0 ? maxScrollTop : 0;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.scrollToBottom();\r\n    }\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevProps.mes !== this.props.mes){\r\n            this.scrollToBottom();\r\n        }\r\n    }\r\n\r\n    postMessage = () => {\r\n        if (this.props.input) {\r\n            this.props.putMes(this.props.user.id,\r\n                {id: -1, avatar: \"\", name: \"\",\r\n                    time: now(), text: this.props.input, fromMe: true},\r\n                this.props.cookieId, this.props.newMes, this.props.user);\r\n            this.props.mesInputChange('',\r\n                this.props.inputIndex);\r\n        }\r\n    };\r\n\r\n    deleteMessage = (id) => {\r\n        this.props.deleteMes(this.props.id, this.props.cookieId, id, this.props.mes.length);\r\n    };\r\n\r\n    render() {\r\n        debugger;\r\n        return <div className={s.main}>\r\n            <div className={s.mesWindow} ref={(div) => {this.messageList = div;}}>\r\n                {this.props.mes.map((res, i) => <div key={i} className={s.mes}>\r\n                    <FontAwesomeIcon icon={'times'} className={s.buttonDelete}\r\n                                     onClick={() => this.deleteMessage(res.id)}/>\r\n                    <div className={res.fromMe ? s.mesOutput : s.mesInput}>\r\n\r\n                        <OneMessage text={res.text} time={res.time} avatar={res.avatar} name={res.name}\r\n                                    deleteMessage={this.deleteMessage} id={res.id} readOnly/>\r\n\r\n                    </div>\r\n                </div>)}\r\n            </div>\r\n            <div className={s.under}>\r\n                <textarea className={s.input} value={this.props.input}\r\n                          onKeyDown={(e) => e.key === 'Enter' && this.postMessage()}\r\n                          onChange={(e) => {this.props.mesInputChange(e.target.value,\r\n                              this.props.inputIndex)}}\r\n                          autoFocus />\r\n                <button className={s.midButton}\r\n                        onClick={() => this.postMessage()}>\r\n                    Click\r\n                </button>\r\n            </div>\r\n        </div>\r\n\r\n\r\n    }\r\n}\r\n\r\nconst mapStoreToProps = (store) => {\r\n    return {}\r\n};\r\n\r\nconst DispatchToProps = {\r\n    putMes,\r\n    deleteMes\r\n};\r\n\r\nexport default connect (mapStoreToProps, DispatchToProps)(MessagesWindowContainer);","import React from 'react'\r\nimport s from './navbarLeft.module.css'\r\nimport {getTime} from \"../../Common/Functions/Functions\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\n\r\nlet Person = (props) => {\r\n    return <div className={s.person} onClick={() => props.setActive(props.data, props.index)}>\r\n            <div className={s.avatar} style={{backgroundImage: `url(${props.data.avatar})`}}/>\r\n            <div className={s.name}>{props.data.name}</div>\r\n            <div className={s.delete}><FontAwesomeIcon icon={'times'} /></div>\r\n            <div className={s.mes}>\r\n                <div className={s.avatarMes} style={{backgroundImage: `url(${props.data.avatarMes})`}}/>\r\n                <div className={s.text}>{props.data.text}</div>\r\n                <div className={s.time}>{getTime(props.data.time)}</div>\r\n            </div>\r\n    </div>\r\n\r\n\r\n};\r\n\r\nexport default Person;","import React from 'react'\r\nimport s from './navbarLeft.module.css'\r\nimport Person from './Person'\r\nimport InputWithSelectContainer from \"../../Common/InputWithSelectContainer/InputWithSelectContainer\";\r\n\r\nlet NavbarLeft = React.memo((props) => {\r\n\r\n    return <div>\r\n        <div className={s.search}>\r\n            <InputWithSelectContainer value={'Choose Dialogs'} changeValue={props.changeValue}\r\n                                      data={props.searchList}/>\r\n        </div>\r\n        {props.users.map((res, k) => <Person key={k} index={k} data={res} setActive={props.setActive} />)}\r\n\r\n    </div>\r\n\r\n\r\n});\r\n\r\nexport default NavbarLeft;","import React from 'react'\r\nimport s from './navbarRight.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\n\r\nlet NavbarRight = React.memo((props) => {\r\n\r\n    return <div className={s.right}>\r\n        <NavLink className={s.navlink} to={`Profile/${props.user.id}`}>\r\n            <div className={s.avatar} style={{backgroundImage: `url(${props.user.avatar})`}}/>\r\n            <div className={s.name}>{props.user.name}</div>\r\n        </NavLink>\r\n        <div className={s.delete}>\r\n            <FontAwesomeIcon icon={'trash-alt'}\r\n                             onClick={() => props.deleteDialog(props.user.id, props.cookieId)} />\r\n        </div>\r\n    </div>\r\n\r\n\r\n});\r\n\r\nexport default NavbarRight;","import React, {PureComponent} from \"react\";\r\nimport MessagesWindowContainer from \"./Messages/MessagesWindowContainer\";\r\nimport s from './messages.module.css'\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    changeInput,\r\n    deleteDialog,\r\n    deleteMes,\r\n    getDialogs,\r\n    toggleWrite\r\n} from \"../../redux/MessagesReducer\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport NavbarLeft from \"./NavbarLeft/NavbarLeft\";\r\nimport NavbarRight from \"./NavbarRight/NavbarRight\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {getFollows} from \"../../redux/FriendsReducer\";\r\n\r\nclass MessagesContainer extends PureComponent {\r\n\r\n    state = {\r\n        active: null,\r\n        users: null,\r\n        messages: null,\r\n        searchList: null\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.props.getDialogs(this.props.cookieId);\r\n        this.props.getFollows(this.props.cookieId);\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (this.props.write) {\r\n            debugger;\r\n            let user = this.props.write;\r\n            this.setState({active:\r\n                    {id: user.id, avatar: user.avatar, name: user.name, newMes: true},\r\n                                inputs: ['']});\r\n            this.props.toggleWrite(false);\r\n        }\r\n        if (prevProps.users !== this.props.users) {\r\n            let users = this.props.users; let mes = this.props.mes;\r\n            let data = [];\r\n            for (let i = 0; i < users.length; i++) {\r\n                let lastMes;\r\n                mes.some((res) =>\r\n                    (res.id === users[i].id) && (lastMes = res.mes[res.mes.length - 1]));\r\n                data.push({id: users[i].id, avatar: users[i].avatar,\r\n                    name: users[i].name,\r\n                    avatarMes: lastMes.avatar, text: lastMes.text, time: lastMes.time});\r\n            }\r\n            data.sort((a, b) => - a.time + b.time);\r\n            this.setState({users: data});\r\n        }\r\n        if (prevProps.friends !== this.props.friends) {\r\n            let arrSearch = [];\r\n            this.props.friends.map(res =>\r\n                arrSearch.push({name: res.name + ' ' + res.secondName, avatar: res.avatar}));\r\n            this.setState({searchList: arrSearch});\r\n        }\r\n    }\r\n\r\n    changeSearchValue = (name) => {\r\n        let user = this.props.friends.filter(res => res.name + ' ' + res.secondName === name);\r\n        this.props.toggleWrite({id: user[0].id, avatar: user[0].avatar,\r\n            name: user[0].name + ' ' + user[0].secondName});\r\n    };\r\n\r\n    setActive = (user, index) => {\r\n        this.setState({active:\r\n                {id: user.id, avatar: user.avatar, name: user.name, newMes: false, index: index}})\r\n    };\r\n\r\n\r\n    deleteDialog = (userId, cookieId) => {\r\n        this.props.deleteDialog(userId, cookieId);\r\n        this.setState({active: null});\r\n    };\r\n\r\n    render() {\r\n        return <div>\r\n            <div className={s.left}>\r\n                {this.state.users &&\r\n                <NavbarLeft setActive={this.setActive} users={this.state.users} cookieId={this.props.cookieId}\r\n                            searchList={this.state.searchList} changeValue={this.changeSearchValue}/>}\r\n            </div>\r\n            <div className={s.middle}>\r\n                {this.state.active ? this.props.mes.map(\r\n                    (res, k) => res.id === this.state.active.id &&\r\n                        <MessagesWindowContainer key={k} id={res.id} mes={res.mes}\r\n                            cookieId={this.props.cookieId} user={this.state.active}\r\n                            input={this.props.inputs[k]} inputIndex={k}\r\n                            mesInputChange={this.props.changeInput}/>) :\r\n                    <div className={s.noActive}>Choose your chat</div> }\r\n                {this.state.active && this.state.active.newMes &&\r\n                <MessagesWindowContainer newMes={true} mes={[]} user={this.state.active}\r\n                    cookieId={this.props.cookieId}\r\n                    input={this.props.inputs[0]} inputIndex={0}\r\n                    mesInputChange={this.props.changeInput} />}\r\n            </div>\r\n            <div className={s.right}>\r\n                {this.state.active &&\r\n                <NavbarRight user={this.state.active} cookieId={this.props.cookieId}\r\n                             deleteDialog={this.deleteDialog}/>}\r\n            </div>\r\n\r\n        </div>\r\n    }\r\n}\r\n\r\nconst mapStoreToProps = (store) => {\r\n    return {\r\n        mes: store.messages.messages,\r\n        users: store.messages.users,\r\n        cookieId: store.login.userId,\r\n        write: store.messages.write,\r\n        inputs: store.messages.inputs,\r\n        friends: store.friends.friends\r\n    }\r\n};\r\n\r\nconst DispatchToProps = {\r\n    getDialogs,\r\n    toggleWrite,\r\n    deleteDialog,\r\n    changeInput,\r\n    getFollows\r\n};\r\n\r\nexport default compose (\r\n    connect (mapStoreToProps, DispatchToProps),\r\n    withRouter,\r\n    withAuthRedirect,\r\n)(MessagesContainer, true)","import React from 'react'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport s from './welcome.module.css'\r\nimport panda from '../../assets/img/pandaList.png'\r\n\r\nlet Welcome = () => {\r\n    return (\r\n        <div className={s.main}>\r\n            <div className={s.text}>Welcome to The Panda!</div>\r\n            <div className={s.divImg}>\r\n                <img className={s.img} alt='main_panda' src={panda}/>\r\n            </div>\r\n            <div className={s.divLog}>\r\n                <NavLink className={s.navlink} to={`/Welcome/login`}>Log In</NavLink>\r\n            </div>\r\n            <div className={s.divReg}>\r\n                <NavLink className={s.navlink}  to={`/Welcome/register`}>Sign In</NavLink>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Welcome;","import React from \"react\";\r\nimport Welcome from \"./Welcome\";\r\nimport {connect} from \"react-redux\";\r\nimport {withoutAuthRedirect} from \"../../hoc/withoutAuthRedirect\";\r\nimport {getUserId} from \"../../redux/LoginReducer\";\r\n\r\nclass WelcomeContainer extends React.Component {\r\n\r\n    render() {\r\n        return <Welcome />\r\n    }\r\n\r\n}\r\n\r\nconst mapStoreToProps = (store) => {\r\n    return {\r\n\r\n    }\r\n};\r\n\r\nconst DispatchToProps =  {\r\n    getUserId\r\n};\r\n\r\nexport default withoutAuthRedirect(WelcomeContainer);","import React from 'react'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport s from \"./register.module.css\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLength, required} from \"../../utils/validadors/validators\";\r\nimport {InputRegister} from \"../Common/FormsControls/FormsControls\";\r\nimport logo from \"../../assets/img/mainPandaLogo.ico\";\r\n\r\nconst maxLengthPassword =  maxLength(20);\r\n\r\nlet RegisterForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className={s.form}>\r\n            <div className={s.main}>\r\n                <div className={s.input}>\r\n                    <Field component={InputRegister} type='email' name='email'\r\n                           validate={[required]} placeholder='Email'/>\r\n                </div>\r\n                <div className={s.input}>\r\n                    <Field component={InputRegister}  type='password' name='password'\r\n                           validate={[required, maxLengthPassword]} placeholder='Password' />\r\n                </div>\r\n                <div className={s.input}>\r\n                    <Field component={InputRegister} type='name' name='name'\r\n                           validate={[required]} placeholder='Thirst Name'/>\r\n                </div>\r\n                <div className={s.input}>\r\n                    <Field component={InputRegister}  type='name' name='secondName'\r\n                           validate={[required, maxLengthPassword]}\r\n                           placeholder='Second Name'/>\r\n                </div>\r\n                <div className={s.gender}>\r\n                    <div><Field component={'input'}  type='radio' name='gender' value={'Male'}/> Male</div>\r\n                    <div><Field component={'input'}  type='radio' name='gender' value={'Female'}/> Female</div>\r\n                </div>\r\n\r\n                <button className={s.but}>Log In</button>\r\n\r\n            </div>\r\n        </form>\r\n    )\r\n};\r\n\r\nconst RegisterReduxForm = reduxForm({form: 'register'})(RegisterForm);\r\n\r\nlet Register = (props) => {\r\n    const onSubmit = ({email, password, ...formData}) => {\r\n        props.postLogin(email, password, formData);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div className={s.text}>Registration</div>\r\n            <RegisterReduxForm {...props} onSubmit={onSubmit}/>\r\n            <NavLink to='/Welcome' className={s.navlink}>Back</NavLink>\r\n            <div className={s.divImgLogo}><img className={s.imgLogo} src={logo} alt='Logo'/></div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Register;","import React from 'react'\r\nimport Register from \"./Register\";\r\nimport {connect} from \"react-redux\";\r\nimport {withoutAuthRedirect} from \"../../hoc/withoutAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {postLogin} from \"../../redux/RegisterReducer\";\r\nimport {getLogin} from \"../../redux/LoginReducer\";\r\n\r\n\r\nclass RegisterContainer extends React.Component {\r\n\r\n    render() {\r\n        return <Register {...this.props} />\r\n    }\r\n}\r\n\r\nconst mapStoreToProps = (store) => {\r\n    return {\r\n        userId: store.login.userId\r\n    }\r\n};\r\n\r\nconst DispatchToProps = {\r\n    postLogin,\r\n    getLogin\r\n};\r\n\r\nexport default compose (\r\n    connect (mapStoreToProps, DispatchToProps),\r\n    withoutAuthRedirect,\r\n)(RegisterContainer)","import React, {useState} from 'react'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport s from './header.module.css';\r\nimport panda from '../../assets/img/mainPandaLogo.ico'\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\n\r\nlet Header = (props) => {\r\n\r\n    let [settings, setSettings] = useState(false);\r\n\r\n    const toggleSettings = (bool) => {\r\n       setSettings(bool);\r\n    };\r\n    return <div>\r\n        <div className={s.fixed}>\r\n            <div className={s.main}>\r\n                <div className={s.element}>\r\n                    <img className={s.pandaAvatarImg} src={panda} alt='panda'/>\r\n                </div>\r\n                <NavLink className={s.element} to={`/news`}>\r\n                    News<FontAwesomeIcon className={s.icon} icon={'newspaper'}/>\r\n                </NavLink>\r\n                <NavLink className={s.element}  to={`/message`}>\r\n                    Message<FontAwesomeIcon className={s.icon} icon={'envelope'}/>\r\n                </NavLink>\r\n                {/*<NavLink className={s.element}  to={`/audio`}>\r\n                    Media<FontAwesomeIcon className={s.icon} icon={'play-circle'}/>\r\n                </NavLink>*/}\r\n                <NavLink className={s.element}  to={`/Profile`}>\r\n                    Profile<FontAwesomeIcon className={s.icon} icon={'user-circle'}/>\r\n                </NavLink>\r\n                {/*<NavLink className={s.element}  to={`/communities`}>\r\n                    Communities<FontAwesomeIcon className={s.icon} icon={'users'}/>\r\n                </NavLink>*/}\r\n                <NavLink className={s.element}  to={`/friends`}>\r\n                    Friends<FontAwesomeIcon className={s.icon} icon={'user-friends'}/>\r\n                </NavLink>\r\n                <NavLink className={s.element}  to={`/Search`}>\r\n                    Search<FontAwesomeIcon className={s.icon} icon={'search'}/>\r\n                </NavLink>\r\n                <div className={s.element} onClick={() => toggleSettings(!settings)}>\r\n                    <div className={s.avatar} style={{backgroundImage: `url(${props.header.avatar})`}}/>\r\n                    <FontAwesomeIcon icon={'chevron-down'} className={s.button}/>\r\n                </div>\r\n                {settings && <div className={s.settings}>\r\n                    <ul>\r\n                        <li><NavLink to={\"/Settings\"} className={s.navlink}\r\n                                     onClick={() => toggleSettings(!settings)}>\r\n                            Settings\r\n                        </NavLink></li>\r\n                        <li onClick={props.exit}>Log Out</li>\r\n                    </ul>\r\n                </div>}\r\n            </div>\r\n        </div>\r\n        <div className={s.imaginaryHeader}/>\r\n    </div>\r\n};\r\n\r\nexport default Header;","import React, {useState} from 'react'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport s from './header.module.css';\r\nimport panda from '../../assets/img/mainPandaLogo.ico'\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\n\r\nlet Header = (props) => {\r\n\r\n    let [settings, setSettings] = useState(false);\r\n\r\n    const toggleSettings = (bool) => {\r\n       setSettings(bool);\r\n    };\r\n    return <div>\r\n        <div className={s.fixed}>\r\n            <div className={s.main}>\r\n                <NavLink className={s.element} to={`/news`}>\r\n                    <FontAwesomeIcon className={s.icon} icon={'newspaper'}/>\r\n                </NavLink>\r\n                <NavLink className={s.element}  to={`/message`}>\r\n                    <FontAwesomeIcon className={s.icon} icon={'envelope'}/>\r\n                </NavLink>\r\n                <NavLink className={s.element}  to={`/Profile`}>\r\n                    <FontAwesomeIcon className={s.icon} icon={'user-circle'}/>\r\n                </NavLink>\r\n                <NavLink className={s.element}  to={`/friends`}>\r\n                    <FontAwesomeIcon className={s.icon} icon={'user-friends'}/>\r\n                </NavLink>\r\n\r\n                <div className={s.element} onClick={() => toggleSettings(!settings)}>\r\n                    <FontAwesomeIcon icon={'align-justify'} className={s.icon} />\r\n                </div>\r\n                {settings && <div className={s.settings}>\r\n                    <ul>\r\n                        <li><NavLink to={\"/Settings\"} className={s.navlink}\r\n                                     onClick={() => toggleSettings(!settings)}>\r\n                            Settings\r\n                        </NavLink></li>\r\n                        <li><NavLink className={s.element}  to={`/Search`}>\r\n                            Search\r\n                        </NavLink></li>\r\n                        {/*<li><NavLink className={s.element}  to={`/audio`}>\r\n                            Media\r\n                        </NavLink></li>\r\n                        <li><NavLink className={s.element}  to={`/communities`}>\r\n                            Communities\r\n                        </NavLink></li>*/}\r\n                        <li onClick={props.exit}>Log Out</li>\r\n                    </ul>\r\n                </div>}\r\n            </div>\r\n        </div>\r\n        <div className={s.imaginaryHeader}/>\r\n    </div>\r\n};\r\n\r\nexport default Header;","import React from 'react'\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {deleteUserId} from \"../../redux/LoginReducer\";\r\nimport {getHeader} from \"../../redux/ProfileReducer\";\r\nimport HeaderMobile from \"./HeaderMobile\";\r\nimport withSizes from \"react-sizes\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.getHeader(this.props.cookieId);\r\n    }\r\n\r\n    exit = () => {\r\n        this.props.deleteUserId();\r\n    };\r\n\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.header && (\r\n                !this.props.isMobile ?\r\n                    <Header {...this.props} exit={this.exit} /> :\r\n                    <HeaderMobile {...this.props} exit={this.exit} />\r\n                )}\r\n            </>\r\n    }\r\n}\r\n\r\nconst mapStoreToProps = (store) => {\r\n    return {\r\n        header: store.profile.header\r\n    }\r\n};\r\n\r\nconst DispatchToProps =  {\r\n    deleteUserId,\r\n    getHeader\r\n};\r\n\r\nconst mapSizeToProps = ({width}) => {\r\n    return {\r\n        isMobile: width <= 1200\r\n    }\r\n};\r\n\r\nexport default compose (\r\n    connect (mapStoreToProps, DispatchToProps),\r\n    withSizes(mapSizeToProps),\r\n    withAuthRedirect\r\n)(HeaderContainer)","import {getUserId} from \"./LoginReducer\";\r\n\r\nconst INITIALIZED_SUCCESS= 'INITIALIZED_SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst AppReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {...state, initialized: true};\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const initializedSuccess = (bool) => ({type: INITIALIZED_SUCCESS, bool: bool});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getUserId());\r\n    promise.then(() => {\r\n        dispatch(initializedSuccess());\r\n    })\r\n};\r\n\r\nexport default AppReducer;","import {usersAPI} from \"../api/api\";\r\n\r\nconst SET_USERS = 'SET_USERS';\r\nconst CHANGE_SEARCH = 'CHANGE_SEARCH';\r\nconst TOGGLE_SORT = 'TOGGLE_SORT';\r\nconst TRASH = 'TRASH';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    sort: false,\r\n    searchUsers: {\r\n        name: \"\",\r\n        age: \"Any\",\r\n        gender: \"Any\",\r\n        relationship: \"Any\"\r\n    },\r\n    currentPage: 1,\r\n    limit: 50\r\n};\r\n\r\nconst UsersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USERS:\r\n            return {...state, users: [...action.users]};\r\n        case CHANGE_SEARCH:\r\n            switch (action.element) {\r\n                case 'name':\r\n                    return {...state, searchUsers: {...state.searchUsers, name: action.value}};\r\n                case 'age':\r\n                    return {...state, searchUsers: {...state.searchUsers, age: action.value}};\r\n                case 'gender':\r\n                    return {...state, searchUsers: {...state.searchUsers, gender: action.value}};\r\n                case 'relationship':\r\n                    return {...state, searchUsers: {...state.searchUsers, relationship: action.value}};\r\n                default:\r\n                    return state;\r\n            }\r\n        case TOGGLE_SORT:\r\n            return {...state, sort: action.bool};\r\n        case TRASH:\r\n            console.log({...state, searchUsers: {...initialState.searchUsers}});\r\n            return {...state, searchUsers: {...initialState.searchUsers}};\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nconst setUsers = (users) => ({type: SET_USERS, users: users});\r\nexport const changeSearch = (value, element) => ({type: CHANGE_SEARCH, value: value, element: element});\r\nexport const trash = () => ({type: TRASH});\r\nconst setSortPopulation = (bool) => ({type: TOGGLE_SORT, bool: bool});\r\n\r\nexport const getUsers = ([currentPage, limit]) => (dispatch) => {\r\n    usersAPI.getUsers(currentPage, limit).then(data => {\r\n        dispatch(setUsers(data));\r\n    });\r\n};\r\n\r\nexport const sortPopulation = (value) => (dispatch) => {\r\n    let bool = false;\r\n    if (value === \"Popularity\") {\r\n        bool = true;\r\n    }\r\n    dispatch(setSortPopulation(bool));\r\n};\r\n\r\nexport default UsersReducer;","import React from 'react'\r\nimport s from './onePerson.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\n\r\nlet OnePerson = (props) => {\r\n\r\n    return (\r\n        <div className={s.main}>\r\n            <div className={s.avatar}>\r\n                <NavLink className={s.navlink} to={`/Profile/${props.user.id}`}>\r\n                    <div className={s.avatarImg}  style={{backgroundImage: `url(${props.user.avatar})`}}/>\r\n                </NavLink>\r\n            </div>\r\n\r\n            <div className={s.name}>\r\n                <NavLink className={s.navlink} to={`/Profile/${props.user.id}`}>\r\n                    {props.user.name} {props.user.secondName}\r\n                </NavLink>\r\n            </div>\r\n\r\n            {props.user.status && <div className={s.status}>\r\n                <FontAwesomeIcon icon={'feather-alt'}/> &nbsp; {props.user.status}\r\n            </div>}\r\n\r\n            {props.user.location.country !== 'Any' &&\r\n                <div className={s.location}>\r\n                    <FontAwesomeIcon icon={'home'}/> &nbsp;\r\n                    {props.user.location.country}\r\n                    {props.user.location.city !== 'Any' && `, ${props.user.location.city}`}\r\n\r\n                </div>\r\n            }\r\n\r\n\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default OnePerson;","import React, {PureComponent} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {getUsers} from \"../../../redux/UsersReducer\";\r\nimport {withAuthRedirect} from \"../../../hoc/withAuthRedirect\";\r\nimport OnePerson from \"./OnePerson/OnePerson\";\r\nimport s from './people.module.css'\r\nimport {compose} from \"redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport FriendshipButton from \"../../Common/FriendshipButton/FriendshipButton\";\r\nimport {getCurrentPagination} from \"../../../redux/selecters\";\r\n\r\nclass PeopleContainer extends PureComponent {\r\n\r\n    state = {\r\n        users: []\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.pagination);\r\n    };\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevProps.users !== this.props.users) {\r\n            this.setState({users: this.props.users});\r\n        }\r\n        if (prevProps.searchUsers !== this.props.searchUsers || prevProps.selected !== this.props.selected)\r\n        {\r\n            //let [dateOfBirth, age] = getAge(props.data.dateOfBirth);\r\n            let sel = this.props.searchUsers;\r\n            let arrUsers = this.props.users.filter((res) => {return (\r\n                (res.name.toLowerCase().includes(sel.name.toLowerCase()) || sel.name  === \"\" ||\r\n                    res.secondName.toLowerCase().includes(sel.name.toLowerCase())) &&\r\n                (res.gender === sel.gender || sel.gender === \"Any\") &&\r\n                (res.relationship === sel.relationship || sel.relationship === \"Any\")\r\n            )});\r\n            sel = this.props.selected;\r\n            arrUsers = arrUsers.filter((res) => {return (\r\n                (res.location.country === sel.countrySelected || sel.countrySelected  === 'Any') &&\r\n                (res.location.state === sel.stateSelected || sel.stateSelected  === 'Any') &&\r\n                (res.location.city === sel.citySelected || sel.citySelected  === 'Any'))});\r\n\r\n            this.setState({users: arrUsers});\r\n        }\r\n        if (prevProps.sort !== this.props.sort) {\r\n            this.props.sort ?\r\n                this.setState({users: this.state.users.sort((i, j) => j.popularity - i.popularity)}):\r\n                this.setState({users: this.state.users.sort((i, j) => i.id - j.id)})\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return <div>\r\n            {this.state.users.map((res, k) => <div key={k} className={s.person}>\r\n                <OnePerson user={res} />\r\n                <div className={s.butFriend}>\r\n                    <FriendshipButton userId={res.id} />\r\n                </div>\r\n            </div>)}\r\n        </div>\r\n\r\n    }\r\n}\r\n\r\nconst mapStoreToProps = (store) => {\r\n    return {\r\n        users: store.users.users,\r\n        cookieId: store.login.userId,\r\n        selected: store.locations.selected,\r\n        sort: store.users.sort,\r\n        pagination: getCurrentPagination(store),\r\n        searchUsers: store.users.searchUsers\r\n    }\r\n};\r\n\r\nlet DispatchToProps = {\r\n    getUsers\r\n};\r\n\r\nexport default compose (\r\n    connect (mapStoreToProps, DispatchToProps),\r\n    withRouter,\r\n    withAuthRedirect,\r\n)(PeopleContainer, true)","const SET_COMMUNITIES = 'SET_COMMUNITIES';\r\nconst SET_COUNT_PAGES = 'SET_COUNT_PAGES';\r\nconst ADD_FRIEND = 'ADD_FRIEND';\r\nconst REMOVE_FRIEND = 'REMOVE_FRIEND';\r\nconst CHANGE_PAGE = 'CHANGE_PAGE';\r\nconst SET_IS_FETCHING = 'SET_IS_FETCHING';\r\n\r\nlet initialState = {\r\n    communities: [],\r\n    selectedPage: 1,\r\n    totalPages: 0,\r\n    isFetching: true\r\n};\r\n\r\nconst CommunitiesReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case SET_COMMUNITIES:\r\n            return {...state, communities: action.communities};\r\n        case CHANGE_PAGE:\r\n            return {...state, selectedPage: action.num};\r\n        case SET_COUNT_PAGES:\r\n            return {...state, totalPages: action.num};\r\n        case SET_IS_FETCHING:\r\n            return {...state, isFetching: action.isFetching};\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const setCommunities = (communities) => ({type: SET_COMMUNITIES, communities: communities});\r\nexport const setCountPages = (num) => ({type: SET_COUNT_PAGES, num: num});\r\nexport const addFriend = (id) => ({type: ADD_FRIEND, id: id});\r\nexport const removeFriend = (id) => ({type: REMOVE_FRIEND, id: id});\r\nexport const changePage = (num) => ({type: CHANGE_PAGE, num: num});\r\nexport const setIsFetching = (isFetching) => ({type: SET_IS_FETCHING, isFetching});\r\n\r\n\r\n\r\nexport default CommunitiesReducer;","import React from 'react'\r\nimport style from './oneCommunity.module.css';\r\nimport imgNoNameAvatar from '../../../../assets/img/pandaAvatarForCommunites.jfif'\r\n\r\nlet OneCommunity = (props) => {\r\n\r\n    let avatarImgSrc;\r\n    debugger;\r\n    if (props.communities.photos.small !== null) {\r\n        avatarImgSrc = props.communities.photos.small;\r\n    }\r\n    else {\r\n        avatarImgSrc = imgNoNameAvatar;\r\n    }\r\n    return (\r\n        <div className={style.main}>\r\n            <div className={style.avatar}>\r\n                <img className={style.avatarImg} src={avatarImgSrc} alt={avatarImgSrc}/>\r\n            </div>\r\n            <div className={style.name}>{props.communities.name} </div>\r\n            <div className={style.status}>{props.communities.status}</div>\r\n            {props.communities.followed ?\r\n                <button className={style.butFollowed}>Unfollow</button> :\r\n                <button className={style.butFollowed}>Follow</button> }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OneCommunity;","import React from 'react'\r\nimport style from './communities.module.css';\r\nimport OneCommunity from \"./OneCommunity/OneCommunity\";\r\n\r\nlet Communities = (props) => {\r\n\r\n        let pageCount = props.totalPages / 5;\r\n        if (props.totalPages % 5 !== 0) {\r\n            pageCount++;\r\n        }\r\n\r\n        let pages = [];\r\n        for (let i = 0; i < pageCount; i++) {\r\n            pages[i] = i + 1;\r\n        }\r\n\r\n        return (\r\n            <div className={style.main}>\r\n\r\n                <div className={style.pages}>\r\n                    {pages.map((p, i) => {return(\r\n                        <span key={i} className={props.selectedPage === p ? style.pageSelected : style.page}\r\n                              onClick={() => { props.onClickPage(p) }}>\r\n                            {`${p} `}\r\n                        </span>\r\n                    )})}\r\n                </div>\r\n\r\n                {props.communities.map((res, i) => {\r\n                    return(\r\n                        <div key={i}  className={style.community}>\r\n                            <OneCommunity className={style.oneCommunity} communities={res}/>\r\n                        </div>)\r\n                })}\r\n            </div>\r\n        )\r\n}\r\n\r\nexport default Communities;","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {addFriend, changePage, removeFriend,\r\n    setCountPages, setIsFetching, setCommunities}\r\n    from \"../../../redux/CommunitiesReducer\";\r\nimport Communities from \"./Communities\";\r\nimport Loader from \"../../Common/Loader/Loader\";\r\nimport {CommunitiesAPI} from \"../../../api/api\";\r\nimport {withAuthRedirect} from \"../../../hoc/withAuthRedirect\";\r\n\r\nclass CommunitiesContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.setIsFetching(true);\r\n        CommunitiesAPI.getCommunities(this.props.selectedPage).then(data => {\r\n            debugger;\r\n            this.props.setIsFetching(false);\r\n            this.props.setCommunities(data);\r\n            this.props.setCountPages(data.length);\r\n        });\r\n    };\r\n\r\n    onClickPage = (p) => {\r\n        this.props.setIsFetching(true);\r\n        this.props.changePage(p);\r\n        CommunitiesAPI.getCommunities(p).then(data => {\r\n            this.props.setIsFetching(false);\r\n            this.props.setCommunities(data);\r\n        });\r\n    };\r\n\r\n    render() {\r\n        return <>\r\n                {this.props.isFetching ? <Loader /> : null}\r\n            <Communities communities={this.props.communities}\r\n                         totalPages={this.props.totalPages}\r\n                         selectedPage={this.props.selectedPage}\r\n                         onClickPage={this.onClickPage}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nconst mapStoreToProps = (store) => {\r\n    return {\r\n        communities: store.communities.communities,\r\n        selectedPage: store.communities.selectedPage,\r\n        totalPages: store.communities.totalPages,\r\n        isFetching: store.communities.isFetching\r\n    }\r\n};\r\n\r\nlet DispatchToProps = {\r\n        addFriend,\r\n        removeFriend,\r\n        setCommunities,\r\n        changePage,\r\n        setCountPages,\r\n        setIsFetching\r\n};\r\n\r\nexport default connect(mapStoreToProps, DispatchToProps)(withAuthRedirect(\r\n    CommunitiesContainer, 'CommunitiesContainer'));","import React from 'react'\r\nimport s from './navbarList.module.css'\r\nimport imgPandaSearch from '../../../assets/img/pandaSearch.png'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst NavbarList = (props) => {\r\n    return <div className={s.main}>\r\n        <div className={s.top}>\r\n            {props.state.components.map((res, i) => {\r\n                return (\r\n                    <div key={i} className={s.elemNavbars} onClick={(e) => props.changeElement(e.target)}\r\n                            style={props.state.elementSelected === res ? {backgroundColor: \"#242424\"} : null}>\r\n                        {res}\r\n                    </div>)\r\n            })}\r\n            {props.state.distantly.map((res, i) => {\r\n                // eslint-disable-next-line react/jsx-no-target-blank\r\n                return <a href={res.href} target='_blank' className={s.navLink}>\r\n                    <div className={s.elemNavbars}>{res.name}</div>\r\n                </a>\r\n            })}\r\n        </div>\r\n        <div className={s.menu}>\r\n            <img className={s.icon} src={imgPandaSearch} onClick={() => props.toggleSearch(true)}/>\r\n        </div>\r\n    </div>\r\n};\r\n\r\nexport default NavbarList;","import React from 'react'\r\nimport s from './navbarSearch.module.css'\r\nimport UsersLocation from \"../../Common/UsersLocation/UsersLocation\";\r\nimport {SelectInfo} from \"../../Common/FormsControls/FormsControls\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\n\r\nconst NavbarSearch= (props) => {\r\n\r\nlet arrRelationships = ['Any', 'Single', 'In a Relationship', 'Married'];\r\nlet arrSort = ['Date of Registration', 'Popularity'];\r\nlet arrGender = ['Any', 'Male', 'Female'];\r\n\r\n    return <div className={s.main}>\r\n        <div className={s.top}>\r\n\r\n            <div className={s.location}>Location &nbsp;<FontAwesomeIcon icon={'home'} /></div>\r\n            <UsersLocation />\r\n\r\n            <div className={s.age}>Age &nbsp;<FontAwesomeIcon icon={'hourglass'} /></div>\r\n            <div className={s.divInput}>\r\n                <input className={s.input} type=\"number\" name=\"quantity\" min=\"12\" max=\"95\" placeholder='From' />\r\n                <input className={s.input} type=\"number\" name=\"quantity\" min=\"12\" max=\"95\" placeholder='To'/>\r\n            </div>\r\n\r\n            <div className={s.headers}>Gender &nbsp;<FontAwesomeIcon icon={'venus-mars'} /></div>\r\n            <div className={s.paragraphs}>\r\n                <SelectInfo arrOption={arrGender} onChange={props.changeSearch} name='gender'\r\n                            value={props.searchUsers.gender}/>\r\n            </div>\r\n\r\n            <div className={s.headers}>Relationship &nbsp;<FontAwesomeIcon icon={'heart'} /></div>\r\n            <div className={s.paragraphs}>\r\n                <SelectInfo arrOption={arrRelationships} onChange={props.changeSearch} name='relationship'\r\n                            value={props.searchUsers.relationship}/>\r\n            </div>\r\n            <div className={s.headers}>Sort</div>\r\n            <div className={s.pSort}>\r\n                <SelectInfo arrOption={arrSort} onChange={props.sortPopulation}/>\r\n            </div>\r\n        </div>\r\n        <div className={s.menu}>\r\n            <FontAwesomeIcon icon={'trash-alt'} className={s.trash} onClick={() => props.trash()}/>\r\n            <FontAwesomeIcon icon={'align-justify'} className={s.icon} onClick={() => props.toggleSearch(false)}/>\r\n        </div>\r\n    </div>\r\n};\r\n\r\nexport default NavbarSearch;","import React from 'react'\r\nimport s from './headerSearch.module.css'\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\n\r\nconst NavbarList = (props) => {\r\n    return <div className={s.main}>\r\n        <div className={s.text}>\r\n            <p>{props.componentSelected}:</p>\r\n        </div>\r\n        <div className={s.divImgSearch}>\r\n            <FontAwesomeIcon className={s.imgSearch} icon={'search'} />\r\n        </div>\r\n        <div className={s.divInput}>\r\n            <input className={s.input} placeholder='search' value={props.name}\r\n                   onChange={(e) => props.changeSearch(e.target.value, 'name')}/>\r\n        </div>\r\n\r\n    </div>\r\n};\r\n\r\nexport default NavbarList;","import React, {Component} from 'react'\r\nimport s from './search.module.css';\r\nimport PeopleContainer from \"./People/PeopleContainer\";\r\nimport CommunitiesContainer from \"./Communities/CommunitiesContainer\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport NavbarList from \"./Navbar/NavbarList\";\r\nimport NavbarSearch from \"./Navbar/NavbarSearch\";\r\nimport {connect} from \"react-redux\";\r\nimport HeaderSearch from \"./HeaderSearch/HeaderSearch\";\r\nimport {changeSearch, sortPopulation, trash} from \"../../redux/UsersReducer\";\r\nimport {compose} from \"redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {trashLocation} from \"../../redux/LocationsReducer\";\r\n\r\nclass Search extends Component {\r\n\r\n    state = {\r\n        components: ['People', 'Communities'],\r\n        distantly: [{name: 'Music', href: 'https://music.youtube.com/'},\r\n            {name: 'Video', href: 'https://www.youtube.com/'},\r\n            {name: 'Games', href: 'https://store.steampowered.com/'},\r\n            {name: 'News', href: 'https://www.bbc.com/news/world'}],\r\n        componentSelected: \"People\",\r\n        search: true,\r\n        searchGo: null\r\n    };\r\n\r\n    componentDidMount() {\r\n\r\n    };\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevProps.location.pathname !== this.props.location.pathname)\r\n        {\r\n           this.setState({searchGo: null});\r\n        }\r\n    }\r\n\r\n    changeElement = (e) => {\r\n        this.setState({componentSelected: e.textContent});\r\n    };\r\n    toggleSearch = (bool) => {\r\n        this.setState({search: bool});\r\n    };\r\n\r\n    changeSearch = (value, element) => {\r\n        this.props.changeSearch(value, element);\r\n    };\r\n    trash = () => {\r\n        this.props.trash();\r\n        this.props.trashLocation();\r\n    };\r\n\r\n    render() {\r\n        return <div className={s.main}>\r\n            <div className={s.header}>\r\n                <HeaderSearch componentSelected={this.state.componentSelected} name={this.props.name}\r\n                              changeSearch={this.changeSearch}/>\r\n            </div>\r\n            <div className={s.body}>\r\n                {this.state.componentSelected === \"People\" && <PeopleContainer />}\r\n                {this.state.componentSelected === \"Communities\" && <CommunitiesContainer />}\r\n            </div>\r\n            <div className={s.navbar}>\r\n                {this.state.search ?\r\n                    <NavbarSearch toggleSearch={this.toggleSearch} sortPopulation={this.props.sortPopulation}\r\n                                  changeSearch={this.changeSearch} searchUsers={this.props.searchUsers}\r\n                                  trash={this.trash} /> :\r\n                    <NavbarList state={this.state}\r\n                                changeElement={this.changeElement} toggleSearch={this.toggleSearch}/>\r\n                }\r\n            </div>\r\n        </div>\r\n    }\r\n}\r\n\r\nconst mapStoreToProps = (store) => {\r\n    return {\r\n        countries: store.locations.countries,\r\n        states: store.locations.states,\r\n        cities: store.locations.cities,\r\n        searchUsers: store.users.searchUsers,\r\n        name: store.users.searchUsers.name\r\n    }\r\n};\r\n\r\nlet DispatchToProps = {\r\n    changeSearch,\r\n    sortPopulation,\r\n    trash,\r\n    trashLocation\r\n};\r\n\r\nexport default compose (\r\n    connect (mapStoreToProps, DispatchToProps),\r\n    withRouter,\r\n    withAuthRedirect,\r\n)(Search, true)","import React from 'react'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport s from \"./friends.module.css\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\n\r\nlet Friends = (props) => {\r\n    return <div className={s.one}>\r\n            <div className={s.avatar}>\r\n                <NavLink className={s.navlink} to={`/Profile/${props.data.id}`}>\r\n                    <div className={s.avatarImg}  style={{backgroundImage: `url(${props.data.avatar})`}}/>\r\n                </NavLink>\r\n            </div>\r\n\r\n            <div className={s.name}>\r\n                <NavLink className={s.navlink} to={`/Profile/${props.data.id}`}>\r\n                    {props.data.name} {props.data.secondName}\r\n                </NavLink>\r\n            </div>\r\n\r\n            {props.data.status && <div className={s.status}>\r\n                <FontAwesomeIcon icon={'feather-alt'}/> &nbsp; {props.data.status}\r\n            </div>}\r\n\r\n\r\n        </div>\r\n};\r\n\r\nexport default Friends;","import React from 'react'\r\nimport Friends from \"./Friends\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport { getFollows} from \"../../redux/FriendsReducer\";\r\nimport {AllFriends, Cookie} from \"../../redux/selecters\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport s from \"./friends.module.css\";\r\nimport FriendshipButton from \"../Common/FriendshipButton/FriendshipButton\";\r\n\r\n\r\nclass FriendsContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        let pageId = this.props.match.params.userId;\r\n        if (!pageId) {\r\n            pageId = this.props.cookieId;\r\n        }\r\n        this.props.getFollows(pageId);\r\n    };\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevProps.location.pathname !== this.props.location.pathname)\r\n        {\r\n            this.componentDidMount();\r\n        }\r\n    };\r\n\r\n\r\n    render() {\r\n        return <div className={s.main}>\r\n            {this.props.friends && this.props.friends.map((res, k) => <div key={k} className={s.mainFriend}>\r\n                <div className={s.friend}><Friends data={res} /></div>\r\n                <div className={s.button}><FriendshipButton userId={res.id}/></div>\r\n            </div>)}\r\n        </div>\r\n    }\r\n}\r\n\r\nconst mapStoreToProps = (store) => {\r\n    return {\r\n        cookieId: Cookie(store),\r\n        friends: AllFriends(store)\r\n    }\r\n};\r\n\r\nconst DispatchToProps = {\r\n    getFollows\r\n};\r\n\r\nexport default compose (\r\n    connect (mapStoreToProps, DispatchToProps),\r\n    withRouter,\r\n    withAuthRedirect,\r\n)(FriendsContainer, true)","import React from 'react';\r\nimport {Redirect, Route, withRouter} from 'react-router-dom'\r\nimport LogInContainer from \"./Components/LogIn/LogInContainer\";\r\nimport NewsContainer from \"./Components/News/NewsContainer\";\r\nimport ProfileContainer from \"./Components/Profile/ProfileContainer\";\r\nimport MessagesContainer from \"./Components/Messages/MessagesContainer\";\r\nimport WelcomeContainer from \"./Components/Welcome/WelcomeContainer\";\r\nimport RegisterContainer from \"./Components/Register/RegisterContainer\";\r\nimport {connect} from \"react-redux\";\r\nimport HeaderContainer from \"./Components/Header/HeaderContainer\";\r\nimport {initializeApp} from \"./redux/AppReducer\";\r\nimport SearchContainer from \"./Components/Search/SearchContainer\";\r\nimport FriendsContainer from \"./Components/Friends/FriendsContainer\";\r\n\r\nimport {library} from \"@fortawesome/fontawesome-svg-core\";\r\nimport {faSortDown, faSearch, faTimes, faHeart, faHome, faHourglass, faBirthdayCake, faFeatherAlt,\r\n    faAlignJustify, faTrashAlt, faVenusMars, faChevronDown, faUserFriends, faEnvelope,\r\n    faUsers, faNewspaper, faPlayCircle, faUserCircle, faThumbsUp, faThumbsDown,\r\n    faPrayingHands} from\r\n        \"@fortawesome/free-solid-svg-icons\";\r\nimport {compose} from \"redux\";\r\nimport {withSuspense} from \"./hoc/withSuspense\";\r\nlibrary.add(faSortDown, faSearch, faTimes, faHeart, faHome, faHourglass, faBirthdayCake, faFeatherAlt,\r\n    faAlignJustify, faTrashAlt, faVenusMars, faChevronDown, faUserFriends, faEnvelope,\r\n    faUsers, faNewspaper, faPlayCircle, faUserCircle, faThumbsUp, faThumbsDown,\r\n    faPrayingHands);\r\n\r\nconst SettingsContainer = React.lazy(() => import('./Components/Settings/SettingsContainer'));\r\n\r\nclass App extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n    };\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <></>\r\n        }\r\n        return (\r\n            <>\r\n                {this.props.location.pathname === \"/\" && <Redirect to=\"/Profile\" />}\r\n                {this.props.cookieId && <HeaderContainer cookieId={this.props.cookieId} />}\r\n                <Route path='/News' render={() => <NewsContainer />}/>\r\n                <Route path='/Profile/:userId?' render={() => <ProfileContainer />}/>\r\n                <Route path='/Search' render={() => <SearchContainer />}/>\r\n                <Route path='/message' render={() => <MessagesContainer />}/>\r\n                <Route path='/Settings' render={withSuspense(SettingsContainer)} />\r\n                <Route exact path='/Welcome' render={() => <WelcomeContainer />}/>\r\n                <Route path='/Welcome/login' render={() => <LogInContainer />}/>\r\n                <Route path='/Welcome/register' render={() => <RegisterContainer />}/>\r\n                <Route path='/Friends/:userId?/' render={() => <FriendsContainer />}/>\r\n            </>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStoreToProps = (store) => {\r\n    return {\r\n        initialized: store.app.initialized,\r\n        cookieId: store.login.userId\r\n    }\r\n};\r\n\r\nconst DispatchToProps =  {\r\n    initializeApp\r\n};\r\n\r\nexport default compose (\r\n    connect (mapStoreToProps, DispatchToProps),\r\n    withRouter\r\n)(App)","import React from 'react';\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={''}>\r\n            <Component {...props} />\r\n        </React.Suspense>\r\n    };\r\n};\r\n\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import {createStore, combineReducers, applyMiddleware, compose} from 'redux'\r\nimport LoginReducer from \"./LoginReducer\";\r\nimport ProfileReducer from \"./ProfileReducer\";\r\nimport UsersReducer from \"./UsersReducer\";\r\nimport FriendsReducer from \"./FriendsReducer\";\r\nimport CommunitiesReducer from \"./CommunitiesReducer\";\r\nimport MessagesReducer from \"./MessagesReducer\";\r\nimport LocationsReducer from \"./LocationsReducer\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport AppReducer from \"./AppReducer\";\r\nimport NewsReducer from \"./NewsReducer\";\r\nimport RegisterReducer from \"./RegisterReducer\";\r\n\r\nlet reducers = combineReducers({\r\n    login: LoginReducer,\r\n    register: RegisterReducer,\r\n    profile: ProfileReducer,\r\n    users: UsersReducer,\r\n    friends: FriendsReducer,\r\n    communities: CommunitiesReducer,\r\n    messages: MessagesReducer,\r\n    locations: LocationsReducer,\r\n    app: AppReducer,\r\n    news: NewsReducer,\r\n    form: formReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nexport default store;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {HashRouter} from \"react-router-dom\";\nimport {Provider} from \"react-redux\";\nimport store from \"./redux/redux\";\n//import ScrollToTop from './Components/Common/ScrollToTop/ScrollToTop ';\n\nReactDOM.render(\n    <HashRouter>\n        <Provider store={store}>\n                <App />\n        </Provider>\n    </HashRouter>, document.getElementById('root'));\n\n\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"friends_main__17c61\",\"mainFriend\":\"friends_mainFriend__20eVj\",\"friend\":\"friends_friend__PGdiJ\",\"button\":\"friends_button__2w8cL\",\"one\":\"friends_one__3vBJ1\",\"avatar\":\"friends_avatar__3b9RH\",\"avatarImg\":\"friends_avatarImg__1PQWD\",\"name\":\"friends_name__3Nvze\",\"status\":\"friends_status__1nfiT\",\"navlink\":\"friends_navlink__2YocA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"login_main__eV4MF\",\"divWelcome\":\"login_divWelcome__3vLhI\",\"form\":\"login_form__1MCmH\",\"divEmail\":\"login_divEmail__1enkn\",\"divPass\":\"login_divPass__31OJq\",\"divError\":\"login_divError__17tmm\",\"divSum\":\"login_divSum__2WMKP\",\"sum\":\"login_sum__36bMQ\",\"navlink\":\"login_navlink__1IVS6\",\"divImgLogo\":\"login_divImgLogo__qSVKz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"register_text__9-fbj\",\"form\":\"register_form__Pt1_Y\",\"main\":\"register_main__3FeyX\",\"input\":\"register_input__2_S7y\",\"gender\":\"register_gender__1DKCi\",\"but\":\"register_but__3Cz6c\",\"navlink\":\"register_navlink__23thL\",\"divImgLogo\":\"register_divImgLogo__2S-yT\"};","import React from 'react'\r\nimport panda_loading from '../../../assets/img/panda_loading.gif';\r\nimport style from \"./loader.module.css\";\r\n\r\nlet Loader = (props) => {\r\n    return (\r\n        <div className={style.divLoading}>\r\n            <img className={style.imgLoading} src={panda_loading} alt=\"loading\"/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search\":\"navbarLeft_search__18XBO\",\"person\":\"navbarLeft_person__32hWq\",\"avatar\":\"navbarLeft_avatar__3fGE_\",\"name\":\"navbarLeft_name__18BDa\",\"delete\":\"navbarLeft_delete__rnvRX\",\"mes\":\"navbarLeft_mes__Q4Gci\",\"avatarMes\":\"navbarLeft_avatarMes__2PGDj\",\"text\":\"navbarLeft_text__2_que\",\"time\":\"navbarLeft_time__1NZz_\"};","export const getAge = (dateOfBirth) => {\r\n    let today = new Date(); let date = new Date(); date.setTime(dateOfBirth);\r\n    let j = ''; date.getDate() < 10 && (j = '0'); let i = ''; (date.getMonth() + 1) < 10 && (i = '0');\r\n    dateOfBirth = j + date.getDate() + \".\" + i + (date.getMonth() + 1) + \".\" + date.getFullYear();\r\n    let age = today.getFullYear() - date.getFullYear();\r\n    if (today.getMonth() < date.getMonth())\r\n        age --;\r\n    else if (today.getMonth() === date.getMonth())\r\n        if (today.getDate() > date.getDate())\r\n            age--;\r\n    return [dateOfBirth, age];\r\n};\r\n\r\nexport const getTime = (myDate) => {\r\n    let today = new Date();\r\n    let date = new Date(); date.setTime(myDate);\r\n    if (today.getFullYear() !== date.getFullYear()) {\r\n        myDate = date.getFullYear();\r\n    } else if (today.getDate() !== date.getDate() || today.getMonth() !== date.getMonth()) {\r\n        let j = ''; date.getDate() < 10 && (j = '0'); let i = ''; (date.getMonth() + 1) < 10 && (i = '0');\r\n        myDate = j + date.getDate() + \".\" + i + (date.getMonth() + 1);\r\n    } else {\r\n        let j = ''; date.getHours() < 10 && (j = '0'); let i = ''; date.getMinutes() < 10 && (i = '0');\r\n        myDate = j + date.getHours() - 2 + \":\" + i + date.getMinutes();\r\n    }\r\n\r\n    return myDate;\r\n};\r\n\r\nexport const now = () => {\r\n    let date = new Date();\r\n    date = Date.parse(date);\r\n    return date;\r\n};","export const required = value => {\r\n    if (value) return undefined;\r\n    return 'Field is required'\r\n};\r\n\r\nexport const maxLength = (length) => value => {\r\n    if (value && value.length > length) return `Max length is ${length}`;\r\n    return undefined\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"post_main__1dAUm\",\"cross\":\"post_cross__DK90e\",\"mainPost\":\"post_mainPost__1w_eh\",\"avatar\":\"post_avatar__34US0\",\"avatarImg\":\"post_avatarImg__AYqTS\",\"name\":\"post_name__26izl\",\"text\":\"post_text__17CtH\",\"ptext\":\"post_ptext__mY19Q\",\"buttons\":\"post_buttons__3DJYQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"welcome_main__3oKm3\",\"text\":\"welcome_text__1Movp\",\"divImg\":\"welcome_divImg__3KwfA\",\"img\":\"welcome_img__B_gCq\",\"divLog\":\"welcome_divLog__3ukwL\",\"divReg\":\"welcome_divReg__1fuTg\",\"navlink\":\"welcome_navlink__2sJVF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"onePerson_main__rZ1Nx\",\"avatar\":\"onePerson_avatar__2p0FC\",\"avatarImg\":\"onePerson_avatarImg__1Oqti\",\"name\":\"onePerson_name__h5Udo\",\"status\":\"onePerson_status__2n1n5\",\"location\":\"onePerson_location__3ywnb\",\"navlink\":\"onePerson_navlink__U-fnw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"oneCommunity_main__3kQGW\",\"avatar\":\"oneCommunity_avatar__3RjB1\",\"avatarImg\":\"oneCommunity_avatarImg__2hM2m\",\"name\":\"oneCommunity_name__YfE7L\",\"status\":\"oneCommunity_status__3rxPT\",\"butFollowed\":\"oneCommunity_butFollowed__M0vxi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"navbarList_main__1dHbY\",\"top\":\"navbarList_top__34DQ5\",\"elemNavbars\":\"navbarList_elemNavbars__2VkcZ\",\"navlink\":\"navbarList_navlink__3Im9D\",\"menu\":\"navbarList_menu__ynHbD\",\"icon\":\"navbarList_icon__2mnbt\",\"navLink\":\"navbarList_navLink__34hYY\"};","module.exports = __webpack_public_path__ + \"static/media/mainPandaLogo.d7f4e79c.ico\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"communities_main__2A3NN\",\"community\":\"communities_community__34Kt2\",\"pages\":\"communities_pages__3C3YL\",\"page\":\"communities_page__25Nt-\",\"pageSelected\":\"communities_pageSelected__1K0Yv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"headerSearch_main__1qUR-\",\"text\":\"headerSearch_text__RTLa_\",\"divImgSearch\":\"headerSearch_divImgSearch__2U87W\",\"imgSearch\":\"headerSearch_imgSearch__3jId1\",\"divInput\":\"headerSearch_divInput__2_csS\",\"input\":\"headerSearch_input__2Ww4w\"};","\r\nconst SET_COUNTRIES = 'SET_COUNTRIES';\r\nconst SET_COUNTRY_SELECTED = 'SET_COUNTRY_SELECTED';\r\nconst SET_STATES = 'SET_STATES';\r\nconst SET_CITIES = 'SET_CITIES';\r\nconst SET_STATE_SELECTED = 'SET_STATE_SELECTED';\r\nconst SET_CITY_SELECTED = 'SET_CITY_SELECTED';\r\nconst TRASH_LOCATION = 'TRASH_LOCATION';\r\nconst CHANGE_SELECTED = 'CHANGE_SELECTED';\r\n\r\nlet initialState = {\r\n    selected: {\r\n        countrySelected: 'Any',\r\n        stateSelected: 'Any',\r\n        citySelected: 'Any'\r\n    },\r\n    countries: [{name: 'Any'}],\r\n    states: [{name: 'Any'}],\r\n    cities: [{name: 'Any'}]\r\n};\r\n\r\nconst LocationsReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case SET_COUNTRIES:\r\n            return {...state, countries: [{name: 'Any'}, ...action.countries]};\r\n        case SET_COUNTRY_SELECTED:\r\n            return {...state, selected: {...state.selected, countrySelected: action.name}};\r\n        case SET_STATES:\r\n            return {...state, states: [{name: 'Any'}, ...action.states]};\r\n        case SET_STATE_SELECTED:\r\n            return {...state, selected: {...state.selected, stateSelected: action.name}};\r\n        case SET_CITIES:\r\n            return {...state, cities: [{name: 'Any'}, ...action.cities]};\r\n        case SET_CITY_SELECTED:\r\n            return {...state, selected: {...state.selected, citySelected: action.name}};\r\n        case TRASH_LOCATION:\r\n            return {...state, selected: {...initialState.selected}};\r\n        case CHANGE_SELECTED:\r\n            return {...state, selected: {...state.selected, countrySelected: action.selected[0],\r\n                    stateSelected: action.selected[1], citySelected: action.selected[2]}};\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const trashLocation = () => ({type: TRASH_LOCATION});\r\nexport const changeSelected = (selected) => ({type: CHANGE_SELECTED, selected: selected});\r\n\r\nexport const getLocation = (list, type, name) => {\r\n    return (dispatch) => {\r\n        switch (type) {\r\n            case \"Countries\":\r\n                return dispatch({type: SET_COUNTRIES, countries: list});\r\n            case \"States\":\r\n                dispatch(changeSelected([name, 'Any', 'Any']));\r\n                dispatch({type: SET_STATES, states: list});\r\n                break;\r\n            case \"Cities\":\r\n                dispatch({type: SET_STATE_SELECTED, name: name});\r\n                dispatch({type: SET_CITY_SELECTED, name: 'Any'});\r\n                dispatch({type: SET_CITIES, cities: list});\r\n                break;\r\n            case \"citySelected\":\r\n                return dispatch({type: SET_CITY_SELECTED, name: name});\r\n            case \"selected\":\r\n                return dispatch(changeSelected(name));\r\n            default:\r\n                return 0;\r\n        }\r\n    }\r\n};\r\n\r\nexport default LocationsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"right\":\"navbarRight_right__23kfH\",\"navlink\":\"navbarRight_navlink__1FZRD\",\"avatar\":\"navbarRight_avatar__pb-xV\",\"name\":\"navbarRight_name__22QZf\",\"delete\":\"navbarRight_delete__EwBxJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"answer\":\"charButtons_answer__1Yn_s\",\"like\":\"charButtons_like__Jo_YT\",\"dislike\":\"charButtons_dislike__1JZKH\",\"aid\":\"charButtons_aid__391-G\",\"butAnswer\":\"charButtons_butAnswer__1CX5F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"profile_main__2hm5a\",\"info\":\"profile_info__2_RaX\",\"modules\":\"profile_modules__Xt5iZ\",\"posts\":\"profile_posts__1mPsK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"messages_main__2xzJO\",\"left\":\"messages_left__1Q6pI\",\"middle\":\"messages_middle__2Q17C\",\"right\":\"messages_right__1FB2j\",\"noActive\":\"messages_noActive__2UNyH\",\"under\":\"messages_under__1QTR3\",\"input\":\"messages_input__3-gCy\",\"midButton\":\"messages_midButton__3NowB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"search_main__2UPrx\",\"header\":\"search_header__10t2S\",\"body\":\"search_body__324Kk\",\"navbar\":\"search_navbar__2cW65\"};","import {LoginAPI, CookieAPI, usersAPI} from \"../api/api\";\r\nimport {changeId} from \"./LoginReducer\";\r\nimport {stopSubmit, reset} from \"redux-form\";\r\n\r\nconst CHANGE_VR = 'CHANGE_VALUE_RELATIONSHIP';\r\nconst CHANGE_GENDER = 'CHANGE_GENDER';\r\n\r\nlet initialState = {\r\n    valueRelationship: '',\r\n    valueGender: ''\r\n};\r\n\r\nconst RegisterReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case CHANGE_VR:\r\n            return {...state, valueRelationship: action.value};\r\n        case CHANGE_GENDER:\r\n            return {...state, valueGender: action.value};\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const changeRelationship = (value) => ({type: CHANGE_VR, value: value});\r\nexport const changeGender = (value) => ({type: CHANGE_GENDER, value: value});\r\n\r\nexport const postLogin = (email, password, userData) => (dispatch) => {\r\n    LoginAPI.postLogin(email, password).then(log => {\r\n        if (log.status === 201) {\r\n            usersAPI.postUser(userData).then(user => {\r\n                if (user.status === 201) {\r\n                    CookieAPI.postCookie(user.data.id).then(res => {\r\n                        res.status === 201 && dispatch(changeId(user.data.id));\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    });\r\n};\r\n\r\nexport const setCommonInfo = (userId, data) => {\r\n    return () => {\r\n        usersAPI.patchUser(userId, data);\r\n    }\r\n};\r\nexport const setLocation = (userId, data, bool) => {\r\n    if (bool)\r\n        return () => usersAPI.patchUserLocation(userId, data);\r\n    else\r\n        return () => usersAPI.patchPlace(userId, data);\r\n};\r\nexport const patchLogin = (userId, data) => (dispatch) => {\r\n    LoginAPI.getPassword(userId).then(password => {\r\n        debugger;\r\n        if (data.old === password) {\r\n            LoginAPI.patchLogin(userId, data);\r\n            dispatch(reset('settings1'));\r\n        }\r\n        else {\r\n            dispatch(stopSubmit(\r\n                \"settings1\", {_error: \"Old Password is not correct\"}));\r\n        }\r\n    });\r\n};\r\n\r\n\r\n\r\nexport default RegisterReducer;"],"sourceRoot":""}