{"version":3,"sources":["Components/Settings/settings.module.css","Components/Settings/Settings.jsx","Components/Settings/SettingsContainer.js"],"names":["module","exports","maxLengthPassword","maxLength","SettingsForm3","props","className","s","form3","main","UsersLocation","but","onClick","setLocation","bool","SettingsReduxForm1","reduxForm","form","onSubmit","handleSubmit","createField","InputRegister","required","error","divError","SettingsReduxForm2","InputSettings","InputDate","InputWithSelectContainer","name","gender","value","changeValue","changeGender","data","relationship","changeRelationship","Settings","general","text","formData","patchLogin","cookieId","date","Date","parse","valueDate","setCommonInfo","changeProfile","initialValues","profile","secondName","dateOfBirth","part","toggleDisplay","displayLocation","displayPlace","deleteProfile","SettingsContainer","state","setState","country","city","toggleOpacity","index","opacity","id","window","location","reload","this","prevProps","prevState","scrollTo","getAge","React","Component","DispatchToProps","compose","connect","store","header","login","userId","locations","selected","countrySelected","stateSelected","citySelected","register","valueRelationship","valueGender","withAuthRedirect"],"mappings":"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","file":"static/js/3.bc5e5111.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"settings_text___QsRg\",\"general\":\"settings_general__1Mu6S\",\"part\":\"settings_part__28cam\",\"form\":\"settings_form__2aXUU\",\"form3\":\"settings_form3__35x7c\",\"main\":\"settings_main__3Qzk2\",\"input\":\"settings_input__14N8C\",\"gender\":\"settings_gender__3FhfR\",\"divError\":\"settings_divError__3msSt\",\"but\":\"settings_but__2af1g\"};","import React from 'react'\r\nimport s from \"./settings.module.css\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLength, required} from \"../../utils/validadors/validators\";\r\nimport {\r\n    createField,\r\n    InputDate,\r\n    InputRegister,\r\n    InputSettings,\r\n    SelectSettings\r\n} from \"../Common/FormsControls/FormsControls\";\r\nimport UsersLocation from \"../Common/UsersLocation/UsersLocation\";\r\nimport InputWithSelectContainer from \"../Common/InputWithSelectContainer/InputWithSelectContainer\";\r\n\r\nconst maxLengthPassword =  maxLength(20);\r\n\r\nlet SettingsForm1 = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className={s.form}>\r\n            <div className={s.main}>\r\n                {createField(InputRegister, 'email', 'email', 'Email',\r\n                    [required])}\r\n                {createField(InputRegister, 'password', 'old', 'Old Password',\r\n                    [required, maxLengthPassword])}\r\n                {createField(InputRegister, 'password', 'password', 'New Password',\r\n                    [required, maxLengthPassword])}\r\n                {props.error && <div className={s.divError}>{props.error}</div>}\r\n                <button className={s.but}>Confirm</button>\r\n            </div>\r\n        </form>\r\n    )\r\n};\r\n\r\nlet SettingsForm2 = (props) => {\r\n    return <form onSubmit={props.handleSubmit} className={s.form}>\r\n        <div className={s.main}>\r\n            {createField(InputSettings, 'name', 'name',  'First Name')}\r\n            {createField(InputSettings, 'name', 'secondName','Second Name')}\r\n            {createField(InputDate, 'text', 'date', 'Date of Birthday',)}\r\n            <InputWithSelectContainer name={props.gender} value={props.gender} changeValue={props.changeGender}\r\n                                      data={[{name: 'Any'}, {name:'Male'}, {name:'Female'}]}/>\r\n            <InputWithSelectContainer name={props.relationship} value={props.relationship}\r\n                                      changeValue={props.changeRelationship}\r\n                                      data={[{name: 'Any'}, {name:'Single'},\r\n                                          {name:'In a Relationship'}, {name:'Married'}]}/>\r\n            <button className={s.but}>Confirm</button>\r\n\r\n        </div>\r\n    </form>\r\n};\r\n\r\nlet SettingsForm3 = (props) => {\r\n    return (\r\n        <div className={s.form3}>\r\n            <div className={s.main}>\r\n                    <UsersLocation />\r\n                <button className={s.but} onClick={() => props.setLocation(props.bool)}>Confirm</button>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nconst SettingsReduxForm1 = reduxForm({form: 'settings1'})(SettingsForm1);\r\nconst SettingsReduxForm2 = reduxForm({form: 'settings2'})(SettingsForm2);\r\n\r\nconst Settings = (props) => {\r\n\r\n    const onSubmit1 = (formData) => {\r\n        props.patchLogin(props.cookieId, formData);\r\n    };\r\n\r\n    const onSubmit2 = (formData) => {\r\n        let date = Date.parse(formData.date);\r\n        let valueDate = formData.date;\r\n        if (!date) {\r\n            date = formData.date[6] + formData.date[7] + formData.date[8] + formData.date[9] +\r\n                '-' + formData.date[3] + formData.date[4] + '-' +\r\n                formData.date[0] + formData.date[1];\r\n            date = Date.parse(date);\r\n        }\r\n        formData.date = date;\r\n        if (props.relationship === 'Any') {\r\n            formData.relationship = ''\r\n        } else {\r\n            formData.relationship = props.relationship;\r\n        }\r\n        if (props.gender === 'Any') {\r\n            formData.gender = ''\r\n        } else {\r\n            formData.gender = props.gender;\r\n        }\r\n        props.setCommonInfo(props.cookieId, formData);\r\n        props.changeProfile(formData);\r\n        formData.date = valueDate;\r\n    };\r\n\r\n    return (\r\n        <div className={s.general}>\r\n            <div className={s.text}>Authorization</div>\r\n            <SettingsReduxForm1 {...props} onSubmit={onSubmit1}/>\r\n            <div className={s.text}>Common Information</div>\r\n            <SettingsReduxForm2 {...props} onSubmit={onSubmit2}\r\n                                initialValues={{name: props.profile.name, secondName: props.profile.secondName,\r\n                                    date: props.dateOfBirth, relationship: props.relationship,\r\n                                    gender: props.profile.gender}}/>\r\n            <div className={s.text}>Other</div>\r\n            <div>\r\n                <div className={s.part}\r\n                     onClick={() => props.toggleDisplay(true)}>\r\n                    Change Location</div>\r\n                {props.displayLocation && <SettingsForm3 {...props} setLocation={props.setLocation} bool={true}/>}\r\n                <div className={s.part} onClick={() => props.toggleDisplay(false)}>Change Place of Birth</div>\r\n                {props.displayPlace && <SettingsForm3 {...props} setLocation={props.setLocation} bool={false}/>}\r\n                <div className={s.part} onClick={() => props.deleteProfile(props.cookieId)}>Delete Profile</div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Settings;","import React from 'react'\r\nimport Settings from \"./Settings\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {\r\n    changeGender,\r\n    changeRelationship,\r\n    patchLogin,\r\n    setCommonInfo,\r\n    setLocation\r\n} from \"../../redux/RegisterReducer\";\r\nimport {changeProfile, deleteProfile} from \"../../redux/ProfileReducer\";\r\nimport {getAge} from \"../Common/Functions/Functions\";\r\n\r\nclass SettingsContainer extends React.Component {\r\n\r\n    state = {\r\n        displayLocation: false,\r\n        displayPlace: false\r\n    };\r\n\r\n    componentDidMount() {\r\n        if (this.props.profile)\r\n        {\r\n            this.props.changeRelationship(this.props.profile.relationship);\r\n            this.props.changeGender(this.props.profile.gender);\r\n        }\r\n    }\r\n\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n    debugger;\r\n        if ((prevState.displayLocation !== this.state.displayLocation && prevState.displayLocation === false) ||\r\n            (prevState.displayPlace !== this.state.displayPlace && prevState.displayPlace === false))\r\n        {\r\n            window.scrollTo(0, 800);\r\n        }\r\n        if (prevProps.profile !== this.props.profile)\r\n        {\r\n            this.props.changeRelationship(this.props.profile.relationship);\r\n            this.props.changeGender(this.props.profile.gender);\r\n        }\r\n    }\r\n\r\n    toggleDisplay = (bool) => {\r\n        if (bool) {\r\n            this.setState({displayLocation: !this.state.displayLocation});\r\n            this.setState({displayPlace: false});\r\n        }\r\n\r\n        else {\r\n            this.setState({displayPlace: !this.state.displayPlace});\r\n            this.setState({displayLocation: false});\r\n        }\r\n    };\r\n\r\n    setLocation = (bool) => {\r\n        this.props.setLocation(this.props.cookieId, {country: this.props.country,\r\n            state: this.props.state, city: this.props.city}, bool);\r\n        this.setState({displayLocation: false, displayPlace: false});\r\n    };\r\n\r\n    toggleOpacity = (bool, index) => {\r\n        let opacity = this.state.opacity;\r\n        opacity[index] = bool;\r\n        this.setState({opacity: opacity});\r\n    };\r\n\r\n    deleteProfile = (id) => {\r\n        this.props.deleteProfile(id);\r\n        window.location.reload()\r\n    };\r\n\r\n    render() {\r\n        debugger;\r\n        return <div>\r\n            {this.props.profile &&\r\n            <Settings profile={this.props.profile} cookieId={this.props.cookieId}\r\n                      setCommonInfo={this.props.setCommonInfo} {...this.state}\r\n                      toggleDisplay={this.toggleDisplay} patchLogin={this.props.patchLogin}\r\n                      relationship={this.props.relationship} gender={this.props.gender}\r\n                      dateOfBirth={getAge(this.props.profile.dateOfBirth)[0]}\r\n                      setLocation={this.setLocation} toggleOpacity={this.toggleOpacity}\r\n                      changeRelationship={this.props.changeRelationship}\r\n                      changeGender={this.props.changeGender} deleteProfile={this.deleteProfile}\r\n                      changeProfile={this.props.changeProfile}/>}\r\n        </div>\r\n    }\r\n}\r\n\r\nconst mapStoreToProps = (store) => {\r\n    return {\r\n        profile: store.profile.header,\r\n        cookieId: store.login.userId,\r\n        country: store.locations.selected.countrySelected,\r\n        state: store.locations.selected.stateSelected,\r\n        city: store.locations.selected.citySelected,\r\n        relationship: store.register.valueRelationship,\r\n        gender: store.register.valueGender\r\n    }\r\n};\r\n\r\nconst DispatchToProps = {\r\n    setCommonInfo,\r\n    setLocation,\r\n    patchLogin,\r\n    changeRelationship,\r\n    changeGender,\r\n    changeProfile,\r\n    deleteProfile\r\n};\r\n\r\nexport default compose (\r\n    connect (mapStoreToProps, DispatchToProps),\r\n    withAuthRedirect,\r\n)(SettingsContainer, true)"],"sourceRoot":""}